{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/services/followService.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Add token to requests if it exists\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport interface User {\r\n    id: string;\r\n    username: string;\r\n    fullName: string;\r\n    avatar: string;\r\n    bio: string;\r\n    status: string;\r\n    lastSeen: string;\r\n    followersCount: number;\r\n    followingCount: number;\r\n    mutualFollowersCount?: number;\r\n    isFollowing?: boolean;\r\n}\r\n\r\nclass FollowService {\r\n    private static instance: FollowService;\r\n\r\n    private constructor() {}\r\n\r\n    public static getInstance(): FollowService {\r\n        if (!FollowService.instance) {\r\n            FollowService.instance = new FollowService();\r\n        }\r\n        return FollowService.instance;\r\n    }\r\n\r\n    async getFollowers(): Promise<User[]> {\r\n        const response = await api.get('/follows');\r\n        return response.data.data;\r\n    }\r\n\r\n    async getFollowing(): Promise<User[]> {\r\n        const response = await api.get('/follows/following');\r\n        return response.data.data;\r\n    }\r\n\r\n    async getSuggestions(): Promise<User[]> {\r\n        const response = await api.get('/follows/suggestions');\r\n        return response.data.data;\r\n    }\r\n\r\n    async followUser(userId: string): Promise<void> {\r\n        await api.post(`/follows/follow/${userId}`);\r\n    }\r\n\r\n    async unfollowUser(userId: string): Promise<void> {\r\n        await api.delete(`/follows/unfollow/${userId}`);\r\n    }\r\n}\r\n\r\nexport const followService = FollowService.getInstance(); "],"names":[],"mappings":";;;AAEgB;AAFhB;;AAEA,MAAM,UAAU,iEAAmC;AAEnD,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;AAgBA,MAAM;IACF,OAAe,SAAwB;IAEvC,aAAsB,CAAC;IAEvB,OAAc,cAA6B;QACvC,IAAI,CAAC,cAAc,QAAQ,EAAE;YACzB,cAAc,QAAQ,GAAG,IAAI;QACjC;QACA,OAAO,cAAc,QAAQ;IACjC;IAEA,MAAM,eAAgC;QAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,eAAgC;QAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,iBAAkC;QACpC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,WAAW,MAAc,EAAiB;QAC5C,MAAM,IAAI,IAAI,CAAC,CAAC,gBAAgB,EAAE,QAAQ;IAC9C;IAEA,MAAM,aAAa,MAAc,EAAiB;QAC9C,MAAM,IAAI,MAAM,CAAC,CAAC,kBAAkB,EAAE,QAAQ;IAClD;AACJ;AAEO,MAAM,gBAAgB,cAAc,WAAW","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/hooks/useFollows.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { followService, User } from '../services/followService';\r\n\r\nexport const useFollows = () => {\r\n    const [activeTab, setActiveTab] = useState<'followers' | 'following' | 'suggestions'>('followers');\r\n    const [followers, setFollowers] = useState<User[]>([]);\r\n    const [following, setFollowing] = useState<User[]>([]);\r\n    const [suggestions, setSuggestions] = useState<User[]>([]);\r\n    const [isLoading, setIsLoading] = useState<Record<string, boolean>>({\r\n        followers: false,\r\n        following: false,\r\n        suggestions: false\r\n    });\r\n\r\n    // Fetch data only when needed\r\n    const fetchFollowers = useCallback(async () => {\r\n        if (followers.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, followers: true }));\r\n            try {\r\n                const data = await followService.getFollowers();\r\n                setFollowers(data);\r\n            } catch (error) {\r\n                console.error('Error fetching followers:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, followers: false }));\r\n            }\r\n        }\r\n    }, [followers.length]);\r\n\r\n    const fetchFollowing = useCallback(async () => {\r\n        if (following.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, following: true }));\r\n            try {\r\n                const data = await followService.getFollowing();\r\n                setFollowing(data);\r\n            } catch (error) {\r\n                console.error('Error fetching following:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, following: false }));\r\n            }\r\n        }\r\n    }, [following.length]);\r\n\r\n    const fetchSuggestions = useCallback(async () => {\r\n        if (suggestions.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, suggestions: true }));\r\n            try {\r\n                const data = await followService.getSuggestions();\r\n                setSuggestions(data);\r\n            } catch (error) {\r\n                console.error('Error fetching suggestions:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, suggestions: false }));\r\n            }\r\n        }\r\n    }, [suggestions.length]);\r\n\r\n    // Handle follow/unfollow with optimistic updates\r\n    const handleFollow = useCallback(async (userId: string) => {\r\n        try {\r\n            // Optimistic update for suggestions\r\n            setSuggestions(prev => \r\n                prev.map(user => \r\n                    user.id === userId \r\n                        ? { ...user, isFollowing: true }\r\n                        : user\r\n                )\r\n            );\r\n\r\n            await followService.followUser(userId);\r\n\r\n            // Update followers count for the target user\r\n            setSuggestions(prev =>\r\n                prev.map(user =>\r\n                    user.id === userId\r\n                        ? { ...user, followersCount: user.followersCount + 1 }\r\n                        : user\r\n                )\r\n            );\r\n        } catch (error) {\r\n            console.error('Error following user:', error);\r\n            // Revert optimistic update on error\r\n            setSuggestions(prev =>\r\n                prev.map(user =>\r\n                    user.id === userId\r\n                        ? { ...user, isFollowing: false }\r\n                        : user\r\n                )\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    const handleUnfollow = useCallback(async (userId: string) => {\r\n        try {\r\n            // Optimistic update\r\n            setFollowing(prev =>\r\n                prev.filter(user => user.id !== userId)\r\n            );\r\n\r\n            await followService.unfollowUser(userId);\r\n        } catch (error) {\r\n            console.error('Error unfollowing user:', error);\r\n            // Revert optimistic update on error\r\n            fetchFollowing();\r\n        }\r\n    }, [fetchFollowing]);\r\n\r\n    // Load data based on active tab\r\n    const loadDataForTab = useCallback((tab: 'followers' | 'following' | 'suggestions') => {\r\n        switch (tab) {\r\n            case 'followers':\r\n                fetchFollowers();\r\n                break;\r\n            case 'following':\r\n                fetchFollowing();\r\n                break;\r\n            case 'suggestions':\r\n                fetchSuggestions();\r\n                break;\r\n        }\r\n    }, [fetchFollowers, fetchFollowing, fetchSuggestions]);\r\n\r\n    // Handle tab change\r\n    const handleTabChange = useCallback((tab: 'followers' | 'following' | 'suggestions') => {\r\n        setActiveTab(tab);\r\n        loadDataForTab(tab);\r\n    }, [loadDataForTab]);\r\n\r\n    return {\r\n        followers,\r\n        following,\r\n        suggestions,\r\n        activeTab,\r\n        setActiveTab: handleTabChange,\r\n        isLoadingFollowers: isLoading.followers,\r\n        isLoadingFollowing: isLoading.following,\r\n        isLoadingSuggestions: isLoading.suggestions,\r\n        handleFollow,\r\n        handleUnfollow,\r\n        refreshSuggestions: fetchSuggestions\r\n    };\r\n}; "],"names":[],"mappings":";;;AAAA;AACA;;;;AAEO,MAAM,aAAa;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA6C;IACtF,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA2B;QAChE,WAAW;QACX,WAAW;QACX,aAAa;IACjB;IAEA,8BAA8B;IAC9B,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE;YAC/B,IAAI,UAAU,MAAM,KAAK,GAAG;gBACxB;8DAAa,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,WAAW;wBAAK,CAAC;;gBAClD,IAAI;oBACA,MAAM,OAAO,MAAM,mIAAA,CAAA,gBAAa,CAAC,YAAY;oBAC7C,aAAa;gBACjB,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,6BAA6B;gBAC/C,SAAU;oBACN;kEAAa,CAAA,OAAQ,CAAC;gCAAE,GAAG,IAAI;gCAAE,WAAW;4BAAM,CAAC;;gBACvD;YACJ;QACJ;iDAAG;QAAC,UAAU,MAAM;KAAC;IAErB,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE;YAC/B,IAAI,UAAU,MAAM,KAAK,GAAG;gBACxB;8DAAa,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,WAAW;wBAAK,CAAC;;gBAClD,IAAI;oBACA,MAAM,OAAO,MAAM,mIAAA,CAAA,gBAAa,CAAC,YAAY;oBAC7C,aAAa;gBACjB,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,6BAA6B;gBAC/C,SAAU;oBACN;kEAAa,CAAA,OAAQ,CAAC;gCAAE,GAAG,IAAI;gCAAE,WAAW;4BAAM,CAAC;;gBACvD;YACJ;QACJ;iDAAG;QAAC,UAAU,MAAM;KAAC;IAErB,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE;YACjC,IAAI,YAAY,MAAM,KAAK,GAAG;gBAC1B;gEAAa,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,aAAa;wBAAK,CAAC;;gBACpD,IAAI;oBACA,MAAM,OAAO,MAAM,mIAAA,CAAA,gBAAa,CAAC,cAAc;oBAC/C,eAAe;gBACnB,EAAE,OAAO,OAAO;oBACZ,QAAQ,KAAK,CAAC,+BAA+B;gBACjD,SAAU;oBACN;oEAAa,CAAA,OAAQ,CAAC;gCAAE,GAAG,IAAI;gCAAE,aAAa;4BAAM,CAAC;;gBACzD;YACJ;QACJ;mDAAG;QAAC,YAAY,MAAM;KAAC;IAEvB,iDAAiD;IACjD,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;gDAAE,OAAO;YACpC,IAAI;gBACA,oCAAoC;gBACpC;4DAAe,CAAA,OACX,KAAK,GAAG;oEAAC,CAAA,OACL,KAAK,EAAE,KAAK,SACN;oCAAE,GAAG,IAAI;oCAAE,aAAa;gCAAK,IAC7B;;;gBAId,MAAM,mIAAA,CAAA,gBAAa,CAAC,UAAU,CAAC;gBAE/B,6CAA6C;gBAC7C;4DAAe,CAAA,OACX,KAAK,GAAG;oEAAC,CAAA,OACL,KAAK,EAAE,KAAK,SACN;oCAAE,GAAG,IAAI;oCAAE,gBAAgB,KAAK,cAAc,GAAG;gCAAE,IACnD;;;YAGlB,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,oCAAoC;gBACpC;4DAAe,CAAA,OACX,KAAK,GAAG;oEAAC,CAAA,OACL,KAAK,EAAE,KAAK,SACN;oCAAE,GAAG,IAAI;oCAAE,aAAa;gCAAM,IAC9B;;;YAGlB;QACJ;+CAAG,EAAE;IAEL,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,OAAO;YACtC,IAAI;gBACA,oBAAoB;gBACpB;8DAAa,CAAA,OACT,KAAK,MAAM;sEAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;;;gBAGpC,MAAM,mIAAA,CAAA,gBAAa,CAAC,YAAY,CAAC;YACrC,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,2BAA2B;gBACzC,oCAAoC;gBACpC;YACJ;QACJ;iDAAG;QAAC;KAAe;IAEnB,gCAAgC;IAChC,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC;YAChC,OAAQ;gBACJ,KAAK;oBACD;oBACA;gBACJ,KAAK;oBACD;oBACA;gBACJ,KAAK;oBACD;oBACA;YACR;QACJ;iDAAG;QAAC;QAAgB;QAAgB;KAAiB;IAErD,oBAAoB;IACpB,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE,CAAC;YACjC,aAAa;YACb,eAAe;QACnB;kDAAG;QAAC;KAAe;IAEnB,OAAO;QACH;QACA;QACA;QACA;QACA,cAAc;QACd,oBAAoB,UAAU,SAAS;QACvC,oBAAoB,UAAU,SAAS;QACvC,sBAAsB,UAAU,WAAW;QAC3C;QACA;QACA,oBAAoB;IACxB;AACJ;GA1Ia","debugId":null}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/follows/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useFollows } from '@/hooks/useFollows';\r\nimport {\r\n    Container,\r\n    Title,\r\n    Tabs,\r\n    Card,\r\n    Avatar,\r\n    Text,\r\n    Group,\r\n    Button,\r\n    Skeleton,\r\n    Stack,\r\n    Badge,\r\n    ActionIcon,\r\n    Tooltip,\r\n    Divider,\r\n    Center,\r\n} from '@mantine/core';\r\nimport { IconUserPlus, IconUserMinus, IconClock, IconRefresh } from '@tabler/icons-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { vi } from 'date-fns/locale';\r\n\r\ninterface User {\r\n    id: string;\r\n    username: string;\r\n    fullName: string;\r\n    avatar: string;\r\n    bio: string;\r\n    status: string;\r\n    lastSeen: string;\r\n    followersCount: number;\r\n    followingCount: number;\r\n    mutualFollowersCount?: number;\r\n    isFollowing?: boolean;\r\n}\r\n\r\ninterface UserCardProps {\r\n    user: User;\r\n    onFollow: (userId: string) => void;\r\n    onUnfollow: (userId: string) => void;\r\n    isLoading: boolean;\r\n    showMutualFollowers?: boolean;\r\n}\r\n\r\nconst UserCard = ({ user, onFollow, onUnfollow, isLoading, showMutualFollowers = false }: UserCardProps) => {\r\n    return (\r\n        <Card withBorder padding=\"lg\" radius=\"md\">\r\n            <Group justify=\"space-between\" align=\"flex-start\">\r\n                <Group gap=\"sm\">\r\n                    <Avatar\r\n                        src={user.avatar}\r\n                        alt={user.username}\r\n                        size=\"lg\"\r\n                        radius=\"xl\"\r\n                    />\r\n                    <div>\r\n                        <Text fw={500} size=\"lg\">\r\n                            {user.fullName}\r\n                        </Text>\r\n                        <Text size=\"sm\" c=\"dimmed\">\r\n                            @{user.username}\r\n                        </Text>\r\n                        {user.bio && (\r\n                            <Text size=\"sm\" mt=\"xs\" lineClamp={2}>\r\n                                {user.bio}\r\n                            </Text>\r\n                        )}\r\n                        <Group gap=\"xs\" mt=\"xs\">\r\n                            <Badge\r\n                                variant=\"light\"\r\n                                color={user.status === 'ONLINE' ? 'green' : 'gray'}\r\n                            >\r\n                                {user.status}\r\n                            </Badge>\r\n                            <Group gap={4}>\r\n                                <IconClock size={14} />\r\n                                <Text size=\"xs\" c=\"dimmed\">\r\n                                    {formatDistanceToNow(new Date(user.lastSeen), {\r\n                                        addSuffix: true,\r\n                                        locale: vi,\r\n                                    })}\r\n                                </Text>\r\n                            </Group>\r\n                            {showMutualFollowers && user.mutualFollowersCount && user.mutualFollowersCount > 0 && (\r\n                                <Text size=\"xs\" c=\"dimmed\">\r\n                                    {user.mutualFollowersCount} bạn chung\r\n                                </Text>\r\n                            )}\r\n                        </Group>\r\n                    </div>\r\n                </Group>\r\n                <Tooltip\r\n                    label={user.isFollowing ? 'Hủy theo dõi' : 'Theo dõi'}\r\n                    position=\"left\"\r\n                >\r\n                    <ActionIcon\r\n                        variant={user.isFollowing ? 'light' : 'filled'}\r\n                        color={user.isFollowing ? 'red' : 'blue'}\r\n                        size=\"lg\"\r\n                        radius=\"xl\"\r\n                        onClick={() =>\r\n                            user.isFollowing ? onUnfollow(user.id) : onFollow(user.id)\r\n                        }\r\n                        loading={isLoading}\r\n                    >\r\n                        {user.isFollowing ? (\r\n                            <IconUserMinus size={20} />\r\n                        ) : (\r\n                            <IconUserPlus size={20} />\r\n                        )}\r\n                    </ActionIcon>\r\n                </Tooltip>\r\n            </Group>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst SuggestionCard = ({ user, onFollow, isLoading }: UserCardProps) => {\r\n    return (\r\n        <Card withBorder padding=\"md\" radius=\"md\">\r\n            <Group justify=\"space-between\" align=\"center\">\r\n                <Group gap=\"sm\">\r\n                    <Avatar\r\n                        src={user.avatar}\r\n                        alt={user.username}\r\n                        size=\"md\"\r\n                        radius=\"xl\"\r\n                    />\r\n                    <div>\r\n                        <Text fw={500} size=\"sm\">\r\n                            {user.fullName}\r\n                        </Text>\r\n                        <Text size=\"xs\" c=\"dimmed\">\r\n                            @{user.username}\r\n                        </Text>\r\n                        {user.mutualFollowersCount && user.mutualFollowersCount > 0 && (\r\n                            <Text size=\"xs\" c=\"dimmed\" mt={2}>\r\n                                {user.mutualFollowersCount} bạn chung\r\n                            </Text>\r\n                        )}\r\n                    </div>\r\n                </Group>\r\n                <Button\r\n                    variant=\"light\"\r\n                    color=\"blue\"\r\n                    size=\"xs\"\r\n                    radius=\"xl\"\r\n                    leftSection={<IconUserPlus size={14} />}\r\n                    onClick={() => onFollow(user.id)}\r\n                    loading={isLoading}\r\n                >\r\n                    Theo dõi\r\n                </Button>\r\n            </Group>\r\n        </Card>\r\n    );\r\n};\r\n\r\nconst LoadingSkeleton = () => (\r\n    <Stack gap=\"md\">\r\n        {[1, 2, 3].map((i) => (\r\n            <Card withBorder padding=\"lg\" radius=\"md\" key={i}>\r\n                <Group gap=\"sm\">\r\n                    <Skeleton height={50} circle />\r\n                    <div style={{ flex: 1 }}>\r\n                        <Skeleton height={20} width=\"40%\" mb=\"xs\" />\r\n                        <Skeleton height={15} width=\"20%\" />\r\n                    </div>\r\n                </Group>\r\n            </Card>\r\n        ))}\r\n    </Stack>\r\n);\r\n\r\nconst SuggestionLoadingSkeleton = () => (\r\n    <Stack gap=\"md\">\r\n        {[1, 2, 3, 4, 5].map((i) => (\r\n            <Card withBorder padding=\"md\" radius=\"md\" key={i}>\r\n                <Group gap=\"sm\">\r\n                    <Skeleton height={40} circle />\r\n                    <div style={{ flex: 1 }}>\r\n                        <Skeleton height={16} width=\"30%\" mb=\"xs\" />\r\n                        <Skeleton height={12} width=\"20%\" />\r\n                    </div>\r\n                    <Skeleton height={24} width={80} radius=\"xl\" />\r\n                </Group>\r\n            </Card>\r\n        ))}\r\n    </Stack>\r\n);\r\n\r\nconst FollowsPage = () => {\r\n    const {\r\n        followers,\r\n        following,\r\n        suggestions,\r\n        activeTab,\r\n        setActiveTab,\r\n        handleFollow,\r\n        handleUnfollow,\r\n        refreshSuggestions,\r\n    } = useFollows();\r\n\r\n    /*\r\n     Use a loading state for each section\r\n    */\r\n    const [isLoadingFollowers, setIsLoadingFollowers] = useState(false);\r\n    const [isLoadingFollowing, setIsLoadingFollowing] = useState(false);\r\n    const [isLoadingSuggestions, setIsLoadingSuggestions] = useState(false);\r\n\r\n    // Update loading states when activeTab changes\r\n    useEffect(() => {\r\n        if (activeTab === 'followers') {\r\n            setIsLoadingFollowers(true);\r\n            // Simulate loading time\r\n            setTimeout(() => setIsLoadingFollowers(false), 500);\r\n        } else if (activeTab === 'following') {\r\n            setIsLoadingFollowing(true);\r\n            setTimeout(() => setIsLoadingFollowing(false), 500);\r\n        } else if (activeTab === 'suggestions') {\r\n            setIsLoadingSuggestions(true);\r\n            setTimeout(() => setIsLoadingSuggestions(false), 500);\r\n        }\r\n    }, [activeTab]);\r\n\r\n    return (\r\n        <Container size=\"md\" py=\"xl\">\r\n            <Title order={2} mb=\"xl\">\r\n                Quan hệ\r\n            </Title>\r\n            <Tabs \r\n                value={activeTab} \r\n                onChange={(value) => {\r\n                    if (value === 'followers' || value === 'following' || value === 'suggestions') {\r\n                        setActiveTab(value);\r\n                    }\r\n                }}\r\n            >\r\n                <Tabs.List grow mb=\"md\">\r\n                    <Tabs.Tab value=\"followers\">\r\n                        Người theo dõi ({followers?.length || 0})\r\n                    </Tabs.Tab>\r\n                    <Tabs.Tab value=\"following\">\r\n                        Đang theo dõi ({following?.length || 0})\r\n                    </Tabs.Tab>\r\n                    <Tabs.Tab value=\"suggestions\">\r\n                        Gợi ý ({suggestions?.length || 0})\r\n                    </Tabs.Tab>\r\n                </Tabs.List>\r\n\r\n                <Tabs.Panel value=\"followers\">\r\n                    {isLoadingFollowers ? (\r\n                        <LoadingSkeleton />\r\n                    ) : (\r\n                        <Stack gap=\"md\">\r\n                            {followers?.map((user: User) => (\r\n                                <UserCard\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    onFollow={handleFollow}\r\n                                    onUnfollow={handleUnfollow}\r\n                                    isLoading={isLoadingFollowers}\r\n                                />\r\n                            ))}\r\n                            {followers?.length === 0 && (\r\n                                <Text c=\"dimmed\" ta=\"center\" py=\"xl\">\r\n                                    Chưa có người theo dõi\r\n                                </Text>\r\n                            )}\r\n                        </Stack>\r\n                    )}\r\n                </Tabs.Panel>\r\n\r\n                <Tabs.Panel value=\"following\">\r\n                    {isLoadingFollowing ? (\r\n                        <LoadingSkeleton />\r\n                    ) : (\r\n                        <Stack gap=\"md\">\r\n                            {following?.map((user: User) => (\r\n                                <UserCard\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    onFollow={handleFollow}\r\n                                    onUnfollow={handleUnfollow}\r\n                                    isLoading={isLoadingFollowing}\r\n                                />\r\n                            ))}\r\n                            {following?.length === 0 && (\r\n                                <Text c=\"dimmed\" ta=\"center\" py=\"xl\">\r\n                                    Chưa theo dõi ai\r\n                                </Text>\r\n                            )}\r\n                        </Stack>\r\n                    )}\r\n                </Tabs.Panel>\r\n\r\n                <Tabs.Panel value=\"suggestions\">\r\n                    <Stack gap=\"md\">\r\n                        <Group justify=\"space-between\" align=\"center\">\r\n                            <Text fw={500} size=\"lg\">\r\n                                Gợi ý cho bạn\r\n                            </Text>\r\n                            <Button\r\n                                variant=\"subtle\"\r\n                                color=\"gray\"\r\n                                size=\"xs\"\r\n                                leftSection={<IconRefresh size={14} />}\r\n                                onClick={refreshSuggestions}\r\n                                loading={isLoadingSuggestions}\r\n                            >\r\n                                Làm mới\r\n                            </Button>\r\n                        </Group>\r\n                        <Divider />\r\n                        {isLoadingSuggestions ? (\r\n                            <SuggestionLoadingSkeleton />\r\n                        ) : (\r\n                            <Stack gap=\"md\">\r\n                                {suggestions?.map((user: User) => (\r\n                                    <SuggestionCard\r\n                                        key={user.id}\r\n                                        user={user}\r\n                                        onFollow={handleFollow}\r\n                                        onUnfollow={handleUnfollow}\r\n                                        isLoading={isLoadingSuggestions}\r\n                                        showMutualFollowers\r\n                                    />\r\n                                ))}\r\n                                {suggestions?.length === 0 && (\r\n                                    <Center py=\"xl\">\r\n                                        <Text c=\"dimmed\" ta=\"center\">\r\n                                            Không có gợi ý nào\r\n                                        </Text>\r\n                                    </Center>\r\n                                )}\r\n                            </Stack>\r\n                        )}\r\n                    </Stack>\r\n                </Tabs.Panel>\r\n            </Tabs>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default FollowsPage;"],"names":[],"mappings":"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","debugId":null}}]
}