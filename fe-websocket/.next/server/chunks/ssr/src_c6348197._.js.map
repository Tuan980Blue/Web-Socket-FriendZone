{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/services/followService.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Add token to requests if it exists\r\napi.interceptors.request.use((config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n});\r\n\r\nexport interface User {\r\n    id: string;\r\n    username: string;\r\n    fullName: string;\r\n    avatar: string;\r\n    bio: string;\r\n    status: string;\r\n    lastSeen: string;\r\n    followersCount: number;\r\n    followingCount: number;\r\n    mutualFollowersCount?: number;\r\n    isFollowing?: boolean;\r\n}\r\n\r\nclass FollowService {\r\n    private static instance: FollowService;\r\n\r\n    private constructor() {}\r\n\r\n    public static getInstance(): FollowService {\r\n        if (!FollowService.instance) {\r\n            FollowService.instance = new FollowService();\r\n        }\r\n        return FollowService.instance;\r\n    }\r\n\r\n    async getFollowers(): Promise<User[]> {\r\n        const response = await api.get('/follows');\r\n        return response.data.data;\r\n    }\r\n\r\n    async getFollowing(): Promise<User[]> {\r\n        const response = await api.get('/follows/following');\r\n        return response.data.data;\r\n    }\r\n\r\n    async getSuggestions(): Promise<User[]> {\r\n        const response = await api.get('/follows/suggestions');\r\n        return response.data.data;\r\n    }\r\n\r\n    async followUser(userId: string): Promise<void> {\r\n        await api.post(`/follows/follow/${userId}`);\r\n    }\r\n\r\n    async unfollowUser(userId: string): Promise<void> {\r\n        await api.delete(`/follows/unfollow/${userId}`);\r\n    }\r\n}\r\n\r\nexport const followService = FollowService.getInstance(); "],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,UAAU,iEAAmC;AAEnD,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX;AAgBA,MAAM;IACF,OAAe,SAAwB;IAEvC,aAAsB,CAAC;IAEvB,OAAc,cAA6B;QACvC,IAAI,CAAC,cAAc,QAAQ,EAAE;YACzB,cAAc,QAAQ,GAAG,IAAI;QACjC;QACA,OAAO,cAAc,QAAQ;IACjC;IAEA,MAAM,eAAgC;QAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,eAAgC;QAClC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,iBAAkC;QACpC,MAAM,WAAW,MAAM,IAAI,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,IAAI;IAC7B;IAEA,MAAM,WAAW,MAAc,EAAiB;QAC5C,MAAM,IAAI,IAAI,CAAC,CAAC,gBAAgB,EAAE,QAAQ;IAC9C;IAEA,MAAM,aAAa,MAAc,EAAiB;QAC9C,MAAM,IAAI,MAAM,CAAC,CAAC,kBAAkB,EAAE,QAAQ;IAClD;AACJ;AAEO,MAAM,gBAAgB,cAAc,WAAW","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/hooks/useFollows.ts"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { followService, User } from '../services/followService';\r\n\r\nexport const useFollows = () => {\r\n    const [activeTab, setActiveTab] = useState<'followers' | 'following' | 'suggestions'>('followers');\r\n    const [followers, setFollowers] = useState<User[]>([]);\r\n    const [following, setFollowing] = useState<User[]>([]);\r\n    const [suggestions, setSuggestions] = useState<User[]>([]);\r\n    const [isLoading, setIsLoading] = useState<Record<string, boolean>>({\r\n        followers: false,\r\n        following: false,\r\n        suggestions: false\r\n    });\r\n\r\n    // Fetch data only when needed\r\n    const fetchFollowers = useCallback(async () => {\r\n        if (followers.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, followers: true }));\r\n            try {\r\n                const data = await followService.getFollowers();\r\n                setFollowers(data);\r\n            } catch (error) {\r\n                console.error('Error fetching followers:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, followers: false }));\r\n            }\r\n        }\r\n    }, [followers.length]);\r\n\r\n    const fetchFollowing = useCallback(async () => {\r\n        if (following.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, following: true }));\r\n            try {\r\n                const data = await followService.getFollowing();\r\n                setFollowing(data);\r\n            } catch (error) {\r\n                console.error('Error fetching following:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, following: false }));\r\n            }\r\n        }\r\n    }, [following.length]);\r\n\r\n    const fetchSuggestions = useCallback(async () => {\r\n        if (suggestions.length === 0) {\r\n            setIsLoading(prev => ({ ...prev, suggestions: true }));\r\n            try {\r\n                const data = await followService.getSuggestions();\r\n                setSuggestions(data);\r\n            } catch (error) {\r\n                console.error('Error fetching suggestions:', error);\r\n            } finally {\r\n                setIsLoading(prev => ({ ...prev, suggestions: false }));\r\n            }\r\n        }\r\n    }, [suggestions.length]);\r\n\r\n    // Handle follow/unfollow with optimistic updates\r\n    const handleFollow = useCallback(async (userId: string) => {\r\n        try {\r\n            // Optimistic update for suggestions\r\n            setSuggestions(prev => \r\n                prev.map(user => \r\n                    user.id === userId \r\n                        ? { ...user, isFollowing: true }\r\n                        : user\r\n                )\r\n            );\r\n\r\n            await followService.followUser(userId);\r\n\r\n            // Update followers count for the target user\r\n            setSuggestions(prev =>\r\n                prev.map(user =>\r\n                    user.id === userId\r\n                        ? { ...user, followersCount: user.followersCount + 1 }\r\n                        : user\r\n                )\r\n            );\r\n        } catch (error) {\r\n            console.error('Error following user:', error);\r\n            // Revert optimistic update on error\r\n            setSuggestions(prev =>\r\n                prev.map(user =>\r\n                    user.id === userId\r\n                        ? { ...user, isFollowing: false }\r\n                        : user\r\n                )\r\n            );\r\n        }\r\n    }, []);\r\n\r\n    const handleUnfollow = useCallback(async (userId: string) => {\r\n        try {\r\n            // Optimistic update\r\n            setFollowing(prev =>\r\n                prev.filter(user => user.id !== userId)\r\n            );\r\n\r\n            await followService.unfollowUser(userId);\r\n        } catch (error) {\r\n            console.error('Error unfollowing user:', error);\r\n            // Revert optimistic update on error\r\n            fetchFollowing();\r\n        }\r\n    }, [fetchFollowing]);\r\n\r\n    // Load data based on active tab\r\n    const loadDataForTab = useCallback((tab: 'followers' | 'following' | 'suggestions') => {\r\n        switch (tab) {\r\n            case 'followers':\r\n                fetchFollowers();\r\n                break;\r\n            case 'following':\r\n                fetchFollowing();\r\n                break;\r\n            case 'suggestions':\r\n                fetchSuggestions();\r\n                break;\r\n        }\r\n    }, [fetchFollowers, fetchFollowing, fetchSuggestions]);\r\n\r\n    // Handle tab change\r\n    const handleTabChange = useCallback((tab: 'followers' | 'following' | 'suggestions') => {\r\n        setActiveTab(tab);\r\n        loadDataForTab(tab);\r\n    }, [loadDataForTab]);\r\n\r\n    return {\r\n        followers,\r\n        following,\r\n        suggestions,\r\n        activeTab,\r\n        setActiveTab: handleTabChange,\r\n        isLoadingFollowers: isLoading.followers,\r\n        isLoadingFollowing: isLoading.following,\r\n        isLoadingSuggestions: isLoading.suggestions,\r\n        handleFollow,\r\n        handleUnfollow,\r\n        refreshSuggestions: fetchSuggestions\r\n    };\r\n}; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/follows/components/UserCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n    Card,\r\n    Avatar,\r\n    Text,\r\n    Group,\r\n    ActionIcon,\r\n    Tooltip,\r\n    Badge,\r\n} from '@mantine/core';\r\nimport { IconUserPlus, IconUserMinus, IconClock } from '@tabler/icons-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { vi } from 'date-fns/locale';\r\n\r\ninterface User {\r\n    id: string;\r\n    username: string;\r\n    fullName: string;\r\n    avatar: string;\r\n    bio: string;\r\n    status: string;\r\n    lastSeen: string;\r\n    followersCount: number;\r\n    followingCount: number;\r\n    mutualFollowersCount?: number;\r\n    isFollowing?: boolean;\r\n}\r\n\r\ninterface UserCardProps {\r\n    user: User;\r\n    onFollow: (userId: string) => void;\r\n    onUnfollow: (userId: string) => void;\r\n    isLoading: boolean;\r\n    showMutualFollowers?: boolean;\r\n    variant?: 'default' | 'suggestion';\r\n}\r\n\r\nconst UserCard = ({ \r\n    user, \r\n    onFollow, \r\n    onUnfollow, \r\n    isLoading, \r\n    showMutualFollowers = false,\r\n    variant = 'default'\r\n}: UserCardProps) => {\r\n    const isSuggestion = variant === 'suggestion';\r\n    const cardPadding = isSuggestion ? 'md' : 'lg';\r\n    const avatarSize = isSuggestion ? 'md' : 'lg';\r\n    const nameSize = isSuggestion ? 'sm' : 'lg';\r\n\r\n    return (\r\n        <Card \r\n            withBorder \r\n            padding={cardPadding} \r\n            radius=\"md\"\r\n            className=\"hover:shadow-md transition-shadow duration-200\"\r\n        >\r\n            <Group justify=\"space-between\" align=\"flex-start\">\r\n                <Group gap=\"sm\">\r\n                    <Avatar\r\n                        src={user.avatar}\r\n                        alt={user.username}\r\n                        size={avatarSize}\r\n                        radius=\"xl\"\r\n                        className=\"border-2 border-primary\"\r\n                    />\r\n                    <div>\r\n                        <Text fw={500} size={nameSize} className=\"text-primary\">\r\n                            {user.fullName}\r\n                        </Text>\r\n                        <Text size=\"sm\" c=\"dimmed\">\r\n                            @{user.username}\r\n                        </Text>\r\n                        {!isSuggestion && user.bio && (\r\n                            <Text size=\"sm\" mt=\"xs\" lineClamp={2}>\r\n                                {user.bio}\r\n                            </Text>\r\n                        )}\r\n                        <Group gap=\"xs\" mt=\"xs\">\r\n                            <Badge\r\n                                variant=\"light\"\r\n                                color={user.status === 'ONLINE' ? 'green' : 'gray'}\r\n                                className=\"bg-opacity-20\"\r\n                            >\r\n                                {user.status}\r\n                            </Badge>\r\n                            <Group gap={4}>\r\n                                <IconClock size={14} className=\"text-gray-500\" />\r\n                                <Text size=\"xs\" c=\"dimmed\">\r\n                                    {formatDistanceToNow(new Date(user.lastSeen), {\r\n                                        addSuffix: true,\r\n                                        locale: vi,\r\n                                    })}\r\n                                </Text>\r\n                            </Group>\r\n                            {showMutualFollowers && user.mutualFollowersCount && user.mutualFollowersCount > 0 && (\r\n                                <Text size=\"xs\" c=\"dimmed\">\r\n                                    {user.mutualFollowersCount} bạn chung\r\n                                </Text>\r\n                            )}\r\n                        </Group>\r\n                    </div>\r\n                </Group>\r\n                <Tooltip\r\n                    label={user.isFollowing ? 'Hủy theo dõi' : 'Theo dõi'}\r\n                    position=\"left\"\r\n                >\r\n                    <ActionIcon\r\n                        variant={user.isFollowing ? 'light' : 'filled'}\r\n                        color={user.isFollowing ? 'red' : 'primary'}\r\n                        size=\"lg\"\r\n                        radius=\"xl\"\r\n                        onClick={() =>\r\n                            user.isFollowing ? onUnfollow(user.id) : onFollow(user.id)\r\n                        }\r\n                        loading={isLoading}\r\n                        className=\"hover:scale-110 transition-transform duration-200\"\r\n                    >\r\n                        {user.isFollowing ? (\r\n                            <IconUserMinus size={20} />\r\n                        ) : (\r\n                            <IconUserPlus size={20} />\r\n                        )}\r\n                    </ActionIcon>\r\n                </Tooltip>\r\n            </Group>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default UserCard; "],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AACA;AACA;;;;;;AAyBA,MAAM,WAAW,CAAC,EACd,IAAI,EACJ,QAAQ,EACR,UAAU,EACV,SAAS,EACT,sBAAsB,KAAK,EAC3B,UAAU,SAAS,EACP;IACZ,MAAM,eAAe,YAAY;IACjC,MAAM,cAAc,eAAe,OAAO;IAC1C,MAAM,aAAa,eAAe,OAAO;IACzC,MAAM,WAAW,eAAe,OAAO;IAEvC,qBACI,8OAAC,uKAAA,CAAA,OAAI;QACD,UAAU;QACV,SAAS;QACT,QAAO;QACP,WAAU;kBAEV,cAAA,8OAAC,yKAAA,CAAA,QAAK;YAAC,SAAQ;YAAgB,OAAM;;8BACjC,8OAAC,yKAAA,CAAA,QAAK;oBAAC,KAAI;;sCACP,8OAAC,2KAAA,CAAA,SAAM;4BACH,KAAK,KAAK,MAAM;4BAChB,KAAK,KAAK,QAAQ;4BAClB,MAAM;4BACN,QAAO;4BACP,WAAU;;;;;;sCAEd,8OAAC;;8CACG,8OAAC,uKAAA,CAAA,OAAI;oCAAC,IAAI;oCAAK,MAAM;oCAAU,WAAU;8CACpC,KAAK,QAAQ;;;;;;8CAElB,8OAAC,uKAAA,CAAA,OAAI;oCAAC,MAAK;oCAAK,GAAE;;wCAAS;wCACrB,KAAK,QAAQ;;;;;;;gCAElB,CAAC,gBAAgB,KAAK,GAAG,kBACtB,8OAAC,uKAAA,CAAA,OAAI;oCAAC,MAAK;oCAAK,IAAG;oCAAK,WAAW;8CAC9B,KAAK,GAAG;;;;;;8CAGjB,8OAAC,yKAAA,CAAA,QAAK;oCAAC,KAAI;oCAAK,IAAG;;sDACf,8OAAC,yKAAA,CAAA,QAAK;4CACF,SAAQ;4CACR,OAAO,KAAK,MAAM,KAAK,WAAW,UAAU;4CAC5C,WAAU;sDAET,KAAK,MAAM;;;;;;sDAEhB,8OAAC,yKAAA,CAAA,QAAK;4CAAC,KAAK;;8DACR,8OAAC,wNAAA,CAAA,YAAS;oDAAC,MAAM;oDAAI,WAAU;;;;;;8DAC/B,8OAAC,uKAAA,CAAA,OAAI;oDAAC,MAAK;oDAAK,GAAE;8DACb,CAAA,GAAA,kJAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,KAAK,KAAK,QAAQ,GAAG;wDAC1C,WAAW;wDACX,QAAQ,2IAAA,CAAA,KAAE;oDACd;;;;;;;;;;;;wCAGP,uBAAuB,KAAK,oBAAoB,IAAI,KAAK,oBAAoB,GAAG,mBAC7E,8OAAC,uKAAA,CAAA,OAAI;4CAAC,MAAK;4CAAK,GAAE;;gDACb,KAAK,oBAAoB;gDAAC;;;;;;;;;;;;;;;;;;;;;;;;;8BAM/C,8OAAC,6KAAA,CAAA,UAAO;oBACJ,OAAO,KAAK,WAAW,GAAG,iBAAiB;oBAC3C,UAAS;8BAET,cAAA,8OAAC,mLAAA,CAAA,aAAU;wBACP,SAAS,KAAK,WAAW,GAAG,UAAU;wBACtC,OAAO,KAAK,WAAW,GAAG,QAAQ;wBAClC,MAAK;wBACL,QAAO;wBACP,SAAS,IACL,KAAK,WAAW,GAAG,WAAW,KAAK,EAAE,IAAI,SAAS,KAAK,EAAE;wBAE7D,SAAS;wBACT,WAAU;kCAET,KAAK,WAAW,iBACb,8OAAC,gOAAA,CAAA,gBAAa;4BAAC,MAAM;;;;;iDAErB,8OAAC,8NAAA,CAAA,eAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhD;uCAEe","debugId":null}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/follows/components/LoadingSkeleton.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card, Skeleton, Stack, Group } from '@mantine/core';\r\n\r\ninterface LoadingSkeletonProps {\r\n    variant?: 'default' | 'suggestion';\r\n    count?: number;\r\n}\r\n\r\nconst LoadingSkeleton = ({ variant = 'default', count = 3 }: LoadingSkeletonProps) => {\r\n    const isSuggestion = variant === 'suggestion';\r\n    const cardPadding = isSuggestion ? 'md' : 'lg';\r\n    const avatarSize = isSuggestion ? 40 : 50;\r\n    const titleWidth = isSuggestion ? '30%' : '40%';\r\n    const subtitleWidth = isSuggestion ? '20%' : '20%';\r\n\r\n    return (\r\n        <Stack gap=\"md\">\r\n            {Array.from({ length: count }).map((_, i) => (\r\n                <Card \r\n                    withBorder \r\n                    padding={cardPadding} \r\n                    radius=\"md\" \r\n                    key={i}\r\n                    className=\"animate-pulse\"\r\n                >\r\n                    <Group gap=\"sm\">\r\n                        <Skeleton height={avatarSize} circle />\r\n                        <div style={{ flex: 1 }}>\r\n                            <Skeleton height={isSuggestion ? 16 : 20} width={titleWidth} mb=\"xs\" />\r\n                            <Skeleton height={isSuggestion ? 12 : 15} width={subtitleWidth} />\r\n                            {!isSuggestion && (\r\n                                <>\r\n                                    <Skeleton height={14} width=\"60%\" mt=\"xs\" />\r\n                                    <Group gap=\"xs\" mt=\"xs\">\r\n                                        <Skeleton height={20} width={60} />\r\n                                        <Skeleton height={20} width={100} />\r\n                                    </Group>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                        {isSuggestion && (\r\n                            <Skeleton height={24} width={80} radius=\"xl\" />\r\n                        )}\r\n                    </Group>\r\n                </Card>\r\n            ))}\r\n        </Stack>\r\n    );\r\n};\r\n\r\nexport default LoadingSkeleton; "],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;;;AAOA,MAAM,kBAAkB,CAAC,EAAE,UAAU,SAAS,EAAE,QAAQ,CAAC,EAAwB;IAC7E,MAAM,eAAe,YAAY;IACjC,MAAM,cAAc,eAAe,OAAO;IAC1C,MAAM,aAAa,eAAe,KAAK;IACvC,MAAM,aAAa,eAAe,QAAQ;IAC1C,MAAM,gBAAgB,eAAe,QAAQ;IAE7C,qBACI,8OAAC,yKAAA,CAAA,QAAK;QAAC,KAAI;kBACN,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,kBACnC,8OAAC,uKAAA,CAAA,OAAI;gBACD,UAAU;gBACV,SAAS;gBACT,QAAO;gBAEP,WAAU;0BAEV,cAAA,8OAAC,yKAAA,CAAA,QAAK;oBAAC,KAAI;;sCACP,8OAAC,+KAAA,CAAA,WAAQ;4BAAC,QAAQ;4BAAY,MAAM;;;;;;sCACpC,8OAAC;4BAAI,OAAO;gCAAE,MAAM;4BAAE;;8CAClB,8OAAC,+KAAA,CAAA,WAAQ;oCAAC,QAAQ,eAAe,KAAK;oCAAI,OAAO;oCAAY,IAAG;;;;;;8CAChE,8OAAC,+KAAA,CAAA,WAAQ;oCAAC,QAAQ,eAAe,KAAK;oCAAI,OAAO;;;;;;gCAChD,CAAC,8BACE;;sDACI,8OAAC,+KAAA,CAAA,WAAQ;4CAAC,QAAQ;4CAAI,OAAM;4CAAM,IAAG;;;;;;sDACrC,8OAAC,yKAAA,CAAA,QAAK;4CAAC,KAAI;4CAAK,IAAG;;8DACf,8OAAC,+KAAA,CAAA,WAAQ;oDAAC,QAAQ;oDAAI,OAAO;;;;;;8DAC7B,8OAAC,+KAAA,CAAA,WAAQ;oDAAC,QAAQ;oDAAI,OAAO;;;;;;;;;;;;;;;;;;;;wBAK5C,8BACG,8OAAC,+KAAA,CAAA,WAAQ;4BAAC,QAAQ;4BAAI,OAAO;4BAAI,QAAO;;;;;;;;;;;;eAnB3C;;;;;;;;;;AA0BzB;uCAEe","debugId":null}},
    {"offset": {"line": 569, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/follows/components/SuggestionsHeader.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Group, Text, Button, Divider } from '@mantine/core';\r\nimport { IconRefresh } from '@tabler/icons-react';\r\n\r\ninterface SuggestionsHeaderProps {\r\n    onRefresh: () => void;\r\n    isLoading: boolean;\r\n}\r\n\r\nconst SuggestionsHeader = ({ onRefresh, isLoading }: SuggestionsHeaderProps) => {\r\n    return (\r\n        <>\r\n            <Group justify=\"space-between\" align=\"center\">\r\n                <Text fw={500} size=\"lg\" className=\"text-primary\">\r\n                    Gợi ý cho bạn\r\n                </Text>\r\n                <Button\r\n                    variant=\"subtle\"\r\n                    color=\"gray\"\r\n                    size=\"xs\"\r\n                    leftSection={<IconRefresh size={14} />}\r\n                    onClick={onRefresh}\r\n                    loading={isLoading}\r\n                    className=\"hover:bg-gray-100 transition-colors duration-200\"\r\n                >\r\n                    Làm mới\r\n                </Button>\r\n            </Group>\r\n            <Divider my=\"sm\" className=\"border-gray-200\" />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SuggestionsHeader; "],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;;;;AAOA,MAAM,oBAAoB,CAAC,EAAE,SAAS,EAAE,SAAS,EAA0B;IACvE,qBACI;;0BACI,8OAAC,yKAAA,CAAA,QAAK;gBAAC,SAAQ;gBAAgB,OAAM;;kCACjC,8OAAC,uKAAA,CAAA,OAAI;wBAAC,IAAI;wBAAK,MAAK;wBAAK,WAAU;kCAAe;;;;;;kCAGlD,8OAAC,2KAAA,CAAA,SAAM;wBACH,SAAQ;wBACR,OAAM;wBACN,MAAK;wBACL,2BAAa,8OAAC,4NAAA,CAAA,cAAW;4BAAC,MAAM;;;;;;wBAChC,SAAS;wBACT,SAAS;wBACT,WAAU;kCACb;;;;;;;;;;;;0BAIL,8OAAC,6KAAA,CAAA,UAAO;gBAAC,IAAG;gBAAK,WAAU;;;;;;;;AAGvC;uCAEe","debugId":null}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/follows/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useFollows } from '@/hooks/useFollows';\r\nimport {\r\n    Container,\r\n    Title,\r\n    Tabs,\r\n    Stack,\r\n    Center,\r\n    Text,\r\n} from '@mantine/core';\r\nimport UserCard from './components/UserCard';\r\nimport LoadingSkeleton from './components/LoadingSkeleton';\r\nimport SuggestionsHeader from './components/SuggestionsHeader';\r\n\r\nconst FollowsPage = () => {\r\n    const {\r\n        followers,\r\n        following,\r\n        suggestions,\r\n        activeTab,\r\n        setActiveTab,\r\n        handleFollow,\r\n        handleUnfollow,\r\n        refreshSuggestions,\r\n    } = useFollows();\r\n\r\n    const [isLoadingFollowers, setIsLoadingFollowers] = useState(false);\r\n    const [isLoadingFollowing, setIsLoadingFollowing] = useState(false);\r\n    const [isLoadingSuggestions, setIsLoadingSuggestions] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (activeTab === 'followers') {\r\n            setIsLoadingFollowers(true);\r\n            setTimeout(() => setIsLoadingFollowers(false), 500);\r\n        } else if (activeTab === 'following') {\r\n            setIsLoadingFollowing(true);\r\n            setTimeout(() => setIsLoadingFollowing(false), 500);\r\n        } else if (activeTab === 'suggestions') {\r\n            setIsLoadingSuggestions(true);\r\n            setTimeout(() => setIsLoadingSuggestions(false), 500);\r\n        }\r\n    }, [activeTab]);\r\n\r\n    return (\r\n        <Container size=\"md\" py=\"xl\">\r\n            <Title order={2} mb=\"xl\" className=\"text-primary\">\r\n                Quan hệ\r\n            </Title>\r\n            <Tabs \r\n                value={activeTab} \r\n                onChange={(value) => {\r\n                    if (value === 'followers' || value === 'following' || value === 'suggestions') {\r\n                        setActiveTab(value);\r\n                    }\r\n                }}\r\n                className=\"bg-white rounded-lg shadow-sm\"\r\n            >\r\n                <Tabs.List grow mb=\"md\" className=\"border-b border-gray-200\">\r\n                    <Tabs.Tab \r\n                        value=\"followers\"\r\n                        className=\"hover:bg-gray-50 transition-colors duration-200\"\r\n                    >\r\n                        Người theo dõi ({followers?.length || 0})\r\n                    </Tabs.Tab>\r\n                    <Tabs.Tab \r\n                        value=\"following\"\r\n                        className=\"hover:bg-gray-50 transition-colors duration-200\"\r\n                    >\r\n                        Đang theo dõi ({following?.length || 0})\r\n                    </Tabs.Tab>\r\n                    <Tabs.Tab \r\n                        value=\"suggestions\"\r\n                        className=\"hover:bg-gray-50 transition-colors duration-200\"\r\n                    >\r\n                        Gợi ý ({suggestions?.length || 0})\r\n                    </Tabs.Tab>\r\n                </Tabs.List>\r\n\r\n                <Tabs.Panel value=\"followers\">\r\n                    {isLoadingFollowers ? (\r\n                        <LoadingSkeleton />\r\n                    ) : (\r\n                        <Stack gap=\"md\">\r\n                            {followers?.map((user) => (\r\n                                <UserCard\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    onFollow={handleFollow}\r\n                                    onUnfollow={handleUnfollow}\r\n                                    isLoading={isLoadingFollowers}\r\n                                />\r\n                            ))}\r\n                            {followers?.length === 0 && (\r\n                                <Center py=\"xl\">\r\n                                    <Text c=\"dimmed\" ta=\"center\">\r\n                                        Chưa có người theo dõi\r\n                                    </Text>\r\n                                </Center>\r\n                            )}\r\n                        </Stack>\r\n                    )}\r\n                </Tabs.Panel>\r\n\r\n                <Tabs.Panel value=\"following\">\r\n                    {isLoadingFollowing ? (\r\n                        <LoadingSkeleton />\r\n                    ) : (\r\n                        <Stack gap=\"md\">\r\n                            {following?.map((user) => (\r\n                                <UserCard\r\n                                    key={user.id}\r\n                                    user={user}\r\n                                    onFollow={handleFollow}\r\n                                    onUnfollow={handleUnfollow}\r\n                                    isLoading={isLoadingFollowing}\r\n                                />\r\n                            ))}\r\n                            {following?.length === 0 && (\r\n                                <Center py=\"xl\">\r\n                                    <Text c=\"dimmed\" ta=\"center\">\r\n                                        Chưa theo dõi ai\r\n                                    </Text>\r\n                                </Center>\r\n                            )}\r\n                        </Stack>\r\n                    )}\r\n                </Tabs.Panel>\r\n\r\n                <Tabs.Panel value=\"suggestions\">\r\n                    <Stack gap=\"md\">\r\n                        <SuggestionsHeader \r\n                            onRefresh={refreshSuggestions}\r\n                            isLoading={isLoadingSuggestions}\r\n                        />\r\n                        {isLoadingSuggestions ? (\r\n                            <LoadingSkeleton variant=\"suggestion\" count={5} />\r\n                        ) : (\r\n                            <Stack gap=\"md\">\r\n                                {suggestions?.map((user) => (\r\n                                    <UserCard\r\n                                        key={user.id}\r\n                                        user={user}\r\n                                        onFollow={handleFollow}\r\n                                        onUnfollow={handleUnfollow}\r\n                                        isLoading={isLoadingSuggestions}\r\n                                        variant=\"suggestion\"\r\n                                        showMutualFollowers\r\n                                    />\r\n                                ))}\r\n                                {suggestions?.length === 0 && (\r\n                                    <Center py=\"xl\">\r\n                                        <Text c=\"dimmed\" ta=\"center\">\r\n                                            Không có gợi ý nào\r\n                                        </Text>\r\n                                    </Center>\r\n                                )}\r\n                            </Stack>\r\n                        )}\r\n                    </Stack>\r\n                </Tabs.Panel>\r\n            </Tabs>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default FollowsPage;"],"names":[],"mappings":"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","debugId":null}}]
}