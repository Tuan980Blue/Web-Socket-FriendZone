(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{722:(e,s,t)=>{"use strict";t.d(s,{j:()=>a});let r=t(3464).A.create({baseURL:"http://localhost:3001/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e});let a={register:async e=>(await r.post("/auth/register",e)).data,login:async e=>(await r.post("/auth/login",e)).data,forgotPassword:async e=>(await r.post("/auth/forgot-password",{email:e})).data,getCurrentUser:async()=>(await r.get("/auth/me")).data}},4459:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),a=t(2115),l=t(5695),d=t(5494),i=t(8268),n=t(6766),o=t(9911);function c(e){var s;let{user:t}=e,a=(s=t.avatar)?s.startsWith("http://")||s.startsWith("https://")?s:"".concat("http://localhost:3001/api").concat(s):null;return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] rounded-lg shadow-sm overflow-hidden border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("div",{className:"relative h-48 bg-gradient-to-r from-[#F58529] via-[#DD2A7B] to-[#515BD4]",children:(0,r.jsx)("div",{className:"absolute -bottom-16 left-8",children:(0,r.jsx)("div",{className:"relative w-32 h-32 rounded-full border-4 border-white dark:border-[#121212] overflow-hidden",children:a?(0,r.jsx)(n.default,{src:a,alt:t.username,fill:!0,className:"object-cover",onError:e=>{var s;let t=e.target;t.style.display="none",null===(s=t.parentElement)||void 0===s||s.classList.add("fallback")}}):(0,r.jsx)("div",{className:"w-full h-full bg-[#DBDBDB] dark:bg-[#262626] flex items-center justify-center",children:(0,r.jsx)(o.x$1,{className:"w-12 h-12 text-[#8E8E8E]"})})})})}),(0,r.jsx)("div",{className:"pt-20 pb-6 px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-[#262626] dark:text-[#FAFAFA]",children:t.fullName||t.username}),(0,r.jsxs)("p",{className:"text-[#8E8E8E]",children:["@",t.username]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("ONLINE"===t.status?"bg-[#20C997]/10 text-[#20C997]":"OFFLINE"===t.status?"bg-[#8E8E8E]/10 text-[#8E8E8E]":"AWAY"===t.status?"bg-[#F58529]/10 text-[#F58529]":"bg-[#ED4956]/10 text-[#ED4956]"),children:t.status}),(0,r.jsxs)("span",{className:"text-sm text-[#8E8E8E]",children:["Last seen: ",new Date(t.lastSeen).toLocaleDateString()]})]})]})})]})}function x(e){let{user:s}=e;return(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] p-4 rounded-lg shadow-sm border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Followers"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-[#262626] dark:text-[#FAFAFA]",children:s.followersCount})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] p-4 rounded-lg shadow-sm border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Following"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-[#262626] dark:text-[#FAFAFA]",children:s.followingCount})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] p-4 rounded-lg shadow-sm border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Posts"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-[#262626] dark:text-[#FAFAFA]",children:s.postsCount})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] p-4 rounded-lg shadow-sm border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Account Type"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-[#262626] dark:text-[#FAFAFA]",children:s.isPrivate?(0,r.jsx)(o.JhU,{className:"inline text-[#DD2A7B]"}):(0,r.jsx)(o.YVu,{className:"inline text-[#20C997]"})})]})]})}function m(e){let{user:s}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] rounded-lg shadow-sm p-6 border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[#262626] dark:text-[#FAFAFA] mb-4",children:"Personal Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.maD,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Email"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:s.email})]})]}),s.bio&&(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(o.x$1,{className:"text-[#DD2A7B] mt-1"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Bio"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:s.bio})]})]}),s.website&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.f35,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Website"}),(0,r.jsx)("a",{href:s.website,className:"text-[#3897F0] hover:underline",target:"_blank",rel:"noopener noreferrer",children:s.website})]})]}),s.location&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.vq8,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Location"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:s.location})]})]})]})]})}function h(e){let{user:s}=e;return(0,r.jsxs)("div",{className:"bg-white dark:bg-[#121212] rounded-lg shadow-sm p-6 border border-[#DBDBDB] dark:border-[#262626]",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[#262626] dark:text-[#FAFAFA] mb-4",children:"Additional Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[s.phoneNumber&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.Cab,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Phone Number"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:s.phoneNumber})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.iOX,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Gender"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:s.gender})]})]}),s.birthDate&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.itz,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Birth Date"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:new Date(s.birthDate).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(o.itz,{className:"text-[#DD2A7B]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-[#8E8E8E]",children:"Member Since"}),(0,r.jsx)("p",{className:"text-[#262626] dark:text-[#FAFAFA]",children:new Date(s.createdAt).toLocaleDateString()})]})]})]})]})}function u(){let{user:e,isLoading:s}=(0,i.P)(),t=(0,l.useRouter)();return((0,a.useEffect)(()=>{s||e||t.push("/auth")},[e,s,t]),s)?(0,r.jsxs)("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-[#121212]",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-64 bg-[#DBDBDB] dark:bg-[#262626] rounded-lg"}),(0,r.jsx)("div",{className:"mt-4 h-32 bg-[#DBDBDB] dark:bg-[#262626] rounded-lg"})]})})]}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-[#121212]",children:[(0,r.jsx)(d.A,{}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)(c,{user:e}),(0,r.jsx)(x,{user:e}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsx)(m,{user:e}),(0,r.jsx)(h,{user:e})]})]})]}):null}},5407:(e,s,t)=>{"use strict";t.d(s,{R:()=>d,v:()=>i});var r=t(5155),a=t(2115),l=t(722);let d=(0,a.createContext)(void 0),i=e=>{let{children:s}=e,[t,i]=(0,a.useState)(null),[n,o]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null),m=async()=>{try{if(!localStorage.getItem("token")){i(null);return}let e=await l.j.getCurrentUser();i(e.user)}catch(e){console.error("Error fetching user data:",e),x("Failed to load user data"),i(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration")}finally{o(!1)}};return(0,a.useEffect)(()=>{m()},[]),(0,r.jsx)(d.Provider,{value:{user:t,setUser:e=>{if(i(e),e){let s=new Date().getTime()+864e5;localStorage.setItem("tokenExpiration",s.toString()),localStorage.setItem("user",JSON.stringify(e))}else localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration")},isLoading:n,error:c,refreshUserData:m},children:s})}},5494:(e,s,t)=>{"use strict";t.d(s,{A:()=>A});var r=t(5155),a=t(2115),l=t(6874),d=t.n(l),i=t(5695),n=t(7924),o=t(7340),c=t(1497),x=t(3861),m=t(4616),h=t(2823),u=t(6766),b=t(8268);let A=()=>{let[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)(!1),A=(0,i.usePathname)(),j=(0,i.useRouter)(),{user:g,setUser:p}=(0,b.P)(),v=()=>{p(null),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("tokenExpiration"),j.push("/auth")},f=()=>{l(!1)};return(0,r.jsx)("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-[#FAFAFA] dark:bg-[#121212] border-b border-[#DBDBDB] dark:border-[#262626] z-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[(0,r.jsxs)(d(),{href:"/",className:"flex items-center space-x-3 group",children:[(0,r.jsx)("div",{className:"relative w-10 h-10 overflow-hidden rounded-xl transform transition-transform duration-300",children:(0,r.jsx)(u.default,{src:"/logo2.png",alt:"Logo",fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-primery",children:"FriendZone"}),(0,r.jsx)("span",{className:"text-xs text-[#666666] dark:text-[#A0A0A0]",children:"Connect & Share"})]})]}),(0,r.jsx)("div",{className:"flex-1 hidden md:block max-w-2xl mx-4 ".concat(e?"w-full":"w-auto"),children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666666] dark:text-[#A0A0A0]",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Search friends, posts, hashtags...",className:"w-full pl-10 pr-4 py-2 rounded-full bg-[#FAFAFA] dark:bg-[#121212] border border-[#DBDBDB] dark:border-[#262626] focus:outline-none focus:ring-2 focus:ring-[#DD2A7B] transition-all duration-300",onFocus:()=>s(!0),onBlur:()=>s(!1)})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(d(),{href:"/",className:"p-2 rounded-full hidden md:block hover:bg-[#FAFAFA] dark:hover:bg-[#121212] ".concat("/"===A?"icon-primery":"text-[#666666] dark:text-[#A0A0A0] hover:text-[#262626] dark:hover:text-[#FAFAFA]"),children:(0,r.jsx)(o.A,{size:24})}),(0,r.jsxs)(d(),{href:"/messages",className:"relative p-2 rounded-full hover:bg-[#FAFAFA] dark:hover:bg-[#121212] ".concat("/messages"===A?"icon-primery":"text-[#666666] dark:text-[#A0A0A0] hover:text-[#262626] dark:hover:text-[#FAFAFA]"),children:[(0,r.jsx)(c.A,{size:24}),(0,r.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-[#ED4956] rounded-full"})]}),(0,r.jsxs)(d(),{href:"/notifications",className:"relative p-2 rounded-full hover:bg-[#FAFAFA] dark:hover:bg-[#121212] ".concat("/notifications"===A?"icon-primery":"text-[#666666] dark:text-[#A0A0A0] hover:text-[#262626] dark:hover:text-[#FAFAFA]"),children:[(0,r.jsx)(x.A,{size:24}),(0,r.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-[#ED4956] rounded-full"})]}),(0,r.jsx)("button",{className:"p-2 rounded-full hidden md:block bg-gradient-to-r from-[#F58529] via-[#DD2A7B] to-[#515BD4] text-white hover:opacity-90",children:(0,r.jsx)(m.A,{size:24})}),(0,r.jsxs)("div",{className:"relative",children:[g?(0,r.jsx)("button",{onClick:()=>l(!t),className:"border border-[#DD2A7B] dark:border-[#121212] cursor-pointer rounded-full flex items-center justify-center transition-all duration-300 focus:outline-none focus:ring-1 focus:ring-[#DD2A7B]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-[#F58529] via-[#DD2A7B] to-[#515BD4] animate-gradient-xy"}),(0,r.jsx)("div",{className:"relative rounded-full bg-[#FAFAFA] dark:bg-[#121212]",children:(0,r.jsx)(h.e,{src:(null==g?void 0:g.avatar)||void 0,alt:(null==g?void 0:g.username)||"Profile",size:"md",radius:"xl"})})]})}):(0,r.jsx)(d(),{href:"/auth",className:"px-4 py-2 border border-[#DD2A7B] rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition duration-150",children:"Đăng nhập"}),t&&g&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-[#FAFAFA] dark:bg-[#121212] border border-[#DBDBDB] dark:border-[#262626] rounded-lg shadow-lg py-2 transform transition-all duration-300 ease-in-out",children:[(0,r.jsx)("div",{className:"px-4 py-3 border-b border-[#DBDBDB] dark:border-[#262626]",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-[#F58529] via-[#DD2A7B] to-[#515BD4] animate-gradient-xy"}),(0,r.jsx)("div",{className:"relative p-0.5 rounded-full bg-[#FAFAFA] dark:bg-[#121212]",children:(0,r.jsx)(h.e,{src:(null==g?void 0:g.avatar)||void 0,alt:(null==g?void 0:g.username)||"Profile",size:"md",radius:"xl",className:"border-2 border-[#FAFAFA] dark:border-[#121212]"})})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium text-[#262626] dark:text-[#FAFAFA] truncate",children:(null==g?void 0:g.username)||"Guest"}),(0,r.jsx)("p",{className:"text-sm text-[#666666] dark:text-[#A0A0A0] truncate",children:(null==g?void 0:g.email)||""})]})]})}),(0,r.jsx)(d(),{href:"/profile",onClick:f,className:"block px-4 py-2 hover:bg-[#FAFAFA] dark:hover:bg-[#121212] text-[#262626] dark:text-[#FAFAFA]",children:"Profile"}),(0,r.jsx)(d(),{href:"/settings",onClick:f,className:"block px-4 py-2 hover:bg-[#FAFAFA] dark:hover:bg-[#121212] text-[#262626] dark:text-[#FAFAFA]",children:"Settings"}),(0,r.jsx)("button",{onClick:()=>{v(),f()},className:"w-full text-left px-4 py-2 hover:bg-[#FAFAFA] dark:hover:bg-[#121212] text-[#262626] dark:text-[#FAFAFA]",children:"Logout"})]})]})]})]})})}},8268:(e,s,t)=>{"use strict";t.d(s,{P:()=>l});var r=t(2115),a=t(5407);let l=()=>{let e=(0,r.useContext)(a.R);if(void 0===e)throw Error("useUserData must be used within a UserProvider");return e}},9938:(e,s,t)=>{Promise.resolve().then(t.bind(t,4459))}},e=>{var s=s=>e(e.s=s);e.O(0,[711,207,193,766,273,144,441,684,358],()=>s(9938)),_N_E=e.O()}]);