{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/store/UserContext.tsx"],"sourcesContent":["import React, { createContext, useState, useEffect, ReactNode } from 'react';\r\nimport { User, UserContextType } from '../types/user';\r\n\r\nexport const UserContext = createContext<UserContextType | undefined>(undefined);\r\n\r\nexport const UserProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Check for existing user data on initial load\r\n  useEffect(() => {\r\n    const checkUserSession = () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const userData = localStorage.getItem('user');\r\n        const tokenExpiration = localStorage.getItem('tokenExpiration');\r\n        \r\n        if (token && userData && tokenExpiration) {\r\n          const expirationTime = parseInt(tokenExpiration);\r\n          const currentTime = new Date().getTime();\r\n          \r\n          if (currentTime < expirationTime) {\r\n            // Token is still valid\r\n            setUser(JSON.parse(userData));\r\n          } else {\r\n            // Token has expired, clear storage\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('user');\r\n            localStorage.removeItem('tokenExpiration');\r\n            setUser(null);\r\n          }\r\n        } else {\r\n          // No token or user data\r\n          setUser(null);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error checking user session:', err);\r\n        setError('Failed to load user session');\r\n        setUser(null);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    checkUserSession();\r\n  }, []);\r\n\r\n  // Custom setUser function that also updates localStorage\r\n  const updateUser = (newUser: User | null) => {\r\n    setUser(newUser);\r\n    \r\n    if (newUser) {\r\n      // Set token expiration to 24 hours from now\r\n      const expirationTime = new Date().getTime() + 24 * 60 * 60 * 1000;\r\n      localStorage.setItem('tokenExpiration', expirationTime.toString());\r\n      localStorage.setItem('user', JSON.stringify(newUser));\r\n    } else {\r\n      // Clear user data from localStorage\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('tokenExpiration');\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    setUser: updateUser,\r\n    isLoading,\r\n    error\r\n  };\r\n\r\n  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;\r\n}; "],"names":[],"mappings":";;;;;AAAA;;;AAGO,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAE/D,MAAM,eAAkD,CAAC,EAAE,QAAQ,EAAE;IAC1E,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,+CAA+C;IAC/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,mBAAmB;YACvB,IAAI;gBACF,MAAM,QAAQ,aAAa,OAAO,CAAC;gBACnC,MAAM,WAAW,aAAa,OAAO,CAAC;gBACtC,MAAM,kBAAkB,aAAa,OAAO,CAAC;gBAE7C,IAAI,SAAS,YAAY,iBAAiB;oBACxC,MAAM,iBAAiB,SAAS;oBAChC,MAAM,cAAc,IAAI,OAAO,OAAO;oBAEtC,IAAI,cAAc,gBAAgB;wBAChC,uBAAuB;wBACvB,QAAQ,KAAK,KAAK,CAAC;oBACrB,OAAO;wBACL,mCAAmC;wBACnC,aAAa,UAAU,CAAC;wBACxB,aAAa,UAAU,CAAC;wBACxB,aAAa,UAAU,CAAC;wBACxB,QAAQ;oBACV;gBACF,OAAO;oBACL,wBAAwB;oBACxB,QAAQ;gBACV;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,SAAS;gBACT,QAAQ;YACV,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG,EAAE;IAEL,yDAAyD;IACzD,MAAM,aAAa,CAAC;QAClB,QAAQ;QAER,IAAI,SAAS;YACX,4CAA4C;YAC5C,MAAM,iBAAiB,IAAI,OAAO,OAAO,KAAK,KAAK,KAAK,KAAK;YAC7D,aAAa,OAAO,CAAC,mBAAmB,eAAe,QAAQ;YAC/D,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,OAAO;YACL,oCAAoC;YACpC,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;IACF;IAEA,MAAM,QAAQ;QACZ;QACA,SAAS;QACT;QACA;IACF;IAEA,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/hooks/useUserData.ts"],"sourcesContent":["import { useContext } from 'react';\r\nimport { UserContextType } from '../types/user';\r\nimport { UserContext } from '../store/UserContext';\r\n\r\nexport const useUserData = (): UserContextType => {\r\n  const context = useContext(UserContext);\r\n  \r\n  if (context === undefined) {\r\n    throw new Error('useUserData must be used within a UserProvider');\r\n  }\r\n  \r\n  return context;\r\n}; "],"names":[],"mappings":";;;AAAA;AAEA;;;AAEO,MAAM,cAAc;IACzB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE,4HAAA,CAAA,cAAW;IAEtC,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/hooks/useReelsData.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { Reel, ReelContextType } from '@/types/reel';\r\nimport { useUserData } from './useUserData';\r\n\r\n// Create context with default values\r\nconst ReelContext = createContext<ReelContextType>({\r\n  reels: [],\r\n  setReels: () => {},\r\n  isLoading: true,\r\n  error: null,\r\n  fetchReels: async () => {},\r\n  likeReel: async () => {},\r\n  saveReel: async () => {},\r\n  shareReel: async () => {},\r\n  addComment: async () => {},\r\n});\r\n\r\n// Mock data for development\r\nconst mockReels: Reel[] = [\r\n  {\r\n    id: '1',\r\n    userId: 'user1',\r\n    username: 'johndoe',\r\n    userAvatar: '/default-avatar.png',\r\n    videoUrl: 'https://example.com/video1.mp4',\r\n    thumbnailUrl: 'https://example.com/thumbnail1.jpg',\r\n    caption: 'Amazing sunset at the beach! üåÖ #sunset #beach #vacation',\r\n    hashtags: ['sunset', 'beach', 'vacation'],\r\n    likes: 325,\r\n    comments: 14,\r\n    shares: 42,\r\n    isLiked: false,\r\n    isSaved: false,\r\n    createdAt: '2023-04-01T12:00:00Z',\r\n    updatedAt: '2023-04-01T12:00:00Z',\r\n  },\r\n  {\r\n    id: '2',\r\n    userId: 'user2',\r\n    username: 'janesmith',\r\n    userAvatar: '/default-avatar.png',\r\n    videoUrl: 'https://example.com/video2.mp4',\r\n    thumbnailUrl: 'https://example.com/thumbnail2.jpg',\r\n    caption: 'Cooking my favorite pasta recipe! üçù #cooking #food #pasta',\r\n    hashtags: ['cooking', 'food', 'pasta'],\r\n    likes: 189,\r\n    comments: 7,\r\n    shares: 23,\r\n    isLiked: true,\r\n    isSaved: false,\r\n    createdAt: '2023-04-02T15:30:00Z',\r\n    updatedAt: '2023-04-02T15:30:00Z',\r\n  },\r\n  {\r\n    id: '3',\r\n    userId: 'user3',\r\n    username: 'mikejohnson',\r\n    userAvatar: '/default-avatar.png',\r\n    videoUrl: 'https://example.com/video3.mp4',\r\n    thumbnailUrl: 'https://example.com/thumbnail3.jpg',\r\n    caption: 'New dance moves! üíÉ #dance #music #trending',\r\n    hashtags: ['dance', 'music', 'trending'],\r\n    likes: 567,\r\n    comments: 32,\r\n    shares: 78,\r\n    isLiked: false,\r\n    isSaved: true,\r\n    createdAt: '2023-04-03T09:15:00Z',\r\n    updatedAt: '2023-04-03T09:15:00Z',\r\n  },\r\n];\r\n\r\nexport function ReelProvider({ children }: { children: ReactNode }) {\r\n  const [reels, setReels] = useState<Reel[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { user } = useUserData();\r\n\r\n  // Fetch reels from API\r\n  const fetchReels = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      // In a real app, this would be an API call\r\n      // const response = await fetch('/api/reels');\r\n      // const data = await response.json();\r\n      \r\n      // For now, use mock data\r\n      setTimeout(() => {\r\n        setReels(mockReels);\r\n        setIsLoading(false);\r\n      }, 1000);\r\n    } catch (err) {\r\n      setError('Failed to fetch reels');\r\n      setIsLoading(false);\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Like a reel\r\n  const likeReel = async (reelId: string) => {\r\n    try {\r\n      // In a real app, this would be an API call\r\n      // await fetch(`/api/reels/${reelId}/like`, { method: 'POST' });\r\n      \r\n      // Update local state\r\n      setReels(prevReels => \r\n        prevReels.map(reel => \r\n          reel.id === reelId \r\n            ? { \r\n                ...reel, \r\n                isLiked: !reel.isLiked,\r\n                likes: reel.isLiked ? reel.likes - 1 : reel.likes + 1\r\n              } \r\n            : reel\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Save a reel\r\n  const saveReel = async (reelId: string) => {\r\n    try {\r\n      // In a real app, this would be an API call\r\n      // await fetch(`/api/reels/${reelId}/save`, { method: 'POST' });\r\n      \r\n      // Update local state\r\n      setReels(prevReels => \r\n        prevReels.map(reel => \r\n          reel.id === reelId \r\n            ? { ...reel, isSaved: !reel.isSaved } \r\n            : reel\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Share a reel\r\n  const shareReel = async (reelId: string) => {\r\n    try {\r\n      // In a real app, this would be an API call\r\n      // await fetch(`/api/reels/${reelId}/share`, { method: 'POST' });\r\n      \r\n      // Update local state\r\n      setReels(prevReels => \r\n        prevReels.map(reel => \r\n          reel.id === reelId \r\n            ? { ...reel, shares: reel.shares + 1 } \r\n            : reel\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Add a comment to a reel\r\n  const addComment = async (reelId: string, content: string) => {\r\n    try {\r\n      // In a real app, this would be an API call\r\n      // await fetch(`/api/reels/${reelId}/comments`, { \r\n      //   method: 'POST',\r\n      //   body: JSON.stringify({ content })\r\n      // });\r\n      \r\n      // Log the comment for mock data\r\n      console.log(`Adding comment to reel ${reelId}: ${content}`);\r\n      \r\n      // Update local state\r\n      setReels(prevReels => \r\n        prevReels.map(reel => \r\n          reel.id === reelId \r\n            ? { ...reel, comments: reel.comments + 1 } \r\n            : reel\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Fetch reels on mount\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchReels();\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <ReelContext.Provider\r\n      value={{\r\n        reels,\r\n        setReels,\r\n        isLoading,\r\n        error,\r\n        fetchReels,\r\n        likeReel,\r\n        saveReel,\r\n        shareReel,\r\n        addComment,\r\n      }}\r\n    >\r\n      {children}\r\n    </ReelContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom hook to use the reel context\r\nexport function useReelsData() {\r\n  const context = useContext(ReelContext);\r\n  if (context === undefined) {\r\n    throw new Error('useReelsData must be used within a ReelProvider');\r\n  }\r\n  return context;\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/components/ReelViewer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Reel } from '@/types/reel';\r\nimport { useReelsData } from '@/hooks/useReelsData';\r\nimport { Avatar, Button, Text, ActionIcon, Paper, Textarea } from '@mantine/core';\r\nimport { Heart, MessageCircle, Share2, Bookmark, Volume2, VolumeX, Send } from 'lucide-react';\r\n\r\ninterface ReelViewerProps {\r\n  reel: Reel;\r\n  onNext?: () => void;\r\n  onPrev?: () => void;\r\n}\r\n\r\nexport default function ReelViewer({ reel, onNext, onPrev }: ReelViewerProps) {\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [comment, setComment] = useState('');\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const { likeReel, saveReel, shareReel, addComment } = useReelsData();\r\n\r\n  // Handle video playback\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = isMuted;\r\n    }\r\n  }, [isMuted]);\r\n\r\n  // Handle video play/pause\r\n  const togglePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  // Handle video end\r\n  const handleVideoEnd = () => {\r\n    if (onNext) {\r\n      onNext();\r\n    }\r\n  };\r\n\r\n  // Handle like\r\n  const handleLike = () => {\r\n    likeReel(reel.id);\r\n  };\r\n\r\n  // Handle save\r\n  const handleSave = () => {\r\n    saveReel(reel.id);\r\n  };\r\n\r\n  // Handle share\r\n  const handleShare = () => {\r\n    shareReel(reel.id);\r\n  };\r\n\r\n  // Handle comment\r\n  const handleComment = () => {\r\n    if (comment.trim()) {\r\n      addComment(reel.id, comment);\r\n      setComment('');\r\n    }\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n    \r\n    if (diffInSeconds < 60) {\r\n      return `${diffInSeconds} seconds ago`;\r\n    } else if (diffInSeconds < 3600) {\r\n      return `${Math.floor(diffInSeconds / 60)} minutes ago`;\r\n    } else if (diffInSeconds < 86400) {\r\n      return `${Math.floor(diffInSeconds / 3600)} hours ago`;\r\n    } else {\r\n      return `${Math.floor(diffInSeconds / 86400)} days ago`;\r\n    }\r\n  };\r\n\r\n  // Format hashtags for display\r\n  const formatHashtags = (caption: string) => {\r\n    if (!caption) return '';\r\n    \r\n    return caption.split(' ').map((word, index) => {\r\n      if (word.startsWith('#')) {\r\n        return (\r\n          <span key={index} className=\"text-blue-500 hover:underline cursor-pointer\">\r\n            {word}{' '}\r\n          </span>\r\n        );\r\n      }\r\n      return word + ' ';\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative h-[80vh] w-full max-w-2xl mx-auto bg-black rounded-lg overflow-hidden\">\r\n      {/* Video Player */}\r\n      <div className=\"relative h-full w-full\">\r\n        <video\r\n          ref={videoRef}\r\n          src={reel.videoUrl}\r\n          className=\"h-full w-full object-cover\"\r\n          loop\r\n          playsInline\r\n          autoPlay\r\n          muted={isMuted}\r\n          onClick={togglePlayPause}\r\n          onEnded={handleVideoEnd}\r\n        />\r\n        \r\n        {/* Video Controls Overlay */}\r\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={() => setIsMuted(!isMuted)}\r\n              >\r\n                {isMuted ? <VolumeX size={20} /> : <Volume2 size={20} />}\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">\r\n                {isMuted ? 'Unmute' : 'Mute'}\r\n              </Text>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-4\">\r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleLike}\r\n              >\r\n                <Heart \r\n                  size={20} \r\n                  fill={reel.isLiked ? 'red' : 'none'} \r\n                  color={reel.isLiked ? 'red' : 'white'} \r\n                />\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">{reel.likes}</Text>\r\n              \r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleShare}\r\n              >\r\n                <Share2 size={20} />\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">{reel.shares}</Text>\r\n              \r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleSave}\r\n              >\r\n                <Bookmark \r\n                  size={20} \r\n                  fill={reel.isSaved ? 'white' : 'none'} \r\n                />\r\n              </ActionIcon>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* User Info & Caption */}\r\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <Avatar \r\n            src={reel.userAvatar} \r\n            alt={reel.username} \r\n            radius=\"xl\" \r\n            size=\"md\" \r\n          />\r\n          <div className=\"flex-1\">\r\n            <Text color=\"white\" fw={500}>@{reel.username}</Text>\r\n            <Text color=\"white\" size=\"sm\" className=\"mt-1\">\r\n              {formatHashtags(reel.caption || '')}\r\n            </Text>\r\n            <Text color=\"white\" size=\"xs\" className=\"mt-1 opacity-70\">\r\n              {formatDate(reel.createdAt)}\r\n            </Text>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Comments Section */}\r\n      <Paper className=\"absolute right-0 top-0 bottom-0 w-80 bg-white/10 backdrop-blur-md p-4 overflow-y-auto\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <Text color=\"white\" fw={500}>Comments ({reel.comments})</Text>\r\n          <ActionIcon variant=\"subtle\" color=\"white\" size=\"lg\">\r\n            <MessageCircle size={20} />\r\n          </ActionIcon>\r\n        </div>\r\n        \r\n        {/* Comment Input */}\r\n        <div className=\"flex items-center space-x-2 mb-4\">\r\n          <Textarea\r\n            placeholder=\"Add a comment...\"\r\n            value={comment}\r\n            onChange={(e) => setComment(e.target.value)}\r\n            className=\"flex-1\"\r\n            minRows={1}\r\n            maxRows={3}\r\n            styles={{\r\n              input: {\r\n                backgroundColor: 'rgba(255, 255, 255, 0.1)',\r\n                color: 'white',\r\n                border: 'none',\r\n              },\r\n            }}\r\n          />\r\n          <ActionIcon \r\n            variant=\"filled\" \r\n            color=\"blue\" \r\n            size=\"lg\" \r\n            onClick={handleComment}\r\n            disabled={!comment.trim()}\r\n          >\r\n            <Send size={16} />\r\n          </ActionIcon>\r\n        </div>\r\n        \r\n        {/* Comment List - Placeholder */}\r\n        <div className=\"space-y-4\">\r\n          <Text color=\"white\" size=\"sm\" className=\"text-center opacity-70\">\r\n            No comments yet. Be the first to comment!\r\n          </Text>\r\n        </div>\r\n      </Paper>\r\n      \r\n      {/* Navigation Buttons */}\r\n      {onPrev && (\r\n        <Button\r\n          variant=\"subtle\"\r\n          color=\"white\"\r\n          className=\"absolute left-2 top-1/2 transform -translate-y-1/2\"\r\n          onClick={onPrev}\r\n        >\r\n          Previous\r\n        </Button>\r\n      )}\r\n      \r\n      {onNext && (\r\n        <Button\r\n          variant=\"subtle\"\r\n          color=\"white\"\r\n          className=\"absolute right-2 top-1/2 transform -translate-y-1/2\"\r\n          onClick={onNext}\r\n        >\r\n          Next\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 810, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/components/ReelGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Reel } from '@/types/reel';\nimport { Card, Text, Avatar, ActionIcon } from '@mantine/core';\nimport { Heart, MessageCircle, Share2, Bookmark, Play } from 'lucide-react';\n\ninterface ReelGridProps {\n  reels: Reel[];\n  onReelClick: (reel: Reel) => void;\n}\n\nexport default function ReelGrid({ reels, onReelClick }: ReelGridProps) {\n  const [hoveredReel, setHoveredReel] = useState<string | null>(null);\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n      {reels.map((reel) => (\n        <Card\n          key={reel.id}\n          className=\"relative overflow-hidden cursor-pointer group\"\n          onClick={() => onReelClick(reel)}\n          onMouseEnter={() => setHoveredReel(reel.id)}\n          onMouseLeave={() => setHoveredReel(null)}\n        >\n          {/* Thumbnail */}\n          <div className=\"relative aspect-[9/16] w-full\">\n            <img\n              src={reel.thumbnailUrl || '/placeholder-video.jpg'}\n              alt={reel.caption || 'Reel thumbnail'}\n              className=\"w-full h-full object-cover\"\n            />\n            \n            {/* Video Preview (autoplay on hover) */}\n            {hoveredReel === reel.id && (\n              <video\n                src={reel.videoUrl}\n                className=\"absolute inset-0 w-full h-full object-cover\"\n                muted\n                autoPlay\n                loop\n                playsInline\n              />\n            )}\n            \n            {/* Play Button Overlay */}\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity\">\n              <Play size={40} className=\"text-white\" />\n            </div>\n            \n            {/* User Info Overlay */}\n            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/70 to-transparent\">\n              <div className=\"flex items-center gap-2\">\n                <Avatar \n                  src={reel.userAvatar} \n                  alt={reel.username} \n                  radius=\"xl\" \n                  size=\"sm\" \n                />\n                <Text color=\"white\" size=\"sm\" truncate>\n                  @{reel.username}\n                </Text>\n              </div>\n            </div>\n            \n            {/* Stats Overlay */}\n            <div className=\"absolute top-0 right-0 p-2 flex flex-col items-end space-y-2\">\n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <Heart \n                    size={16} \n                    fill={reel.isLiked ? 'red' : 'none'} \n                    color={reel.isLiked ? 'red' : 'white'} \n                  />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.likes}</Text>\n              </div>\n              \n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <MessageCircle size={16} />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.comments}</Text>\n              </div>\n              \n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <Share2 size={16} />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.shares}</Text>\n              </div>\n              \n              <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                <Bookmark \n                  size={16} \n                  fill={reel.isSaved ? 'white' : 'none'} \n                />\n              </ActionIcon>\n            </div>\n          </div>\n          \n          {/* Caption (truncated) */}\n          {reel.caption && (\n            <Text size=\"sm\" className=\"mt-2 line-clamp-2\">\n              {reel.caption}\n            </Text>\n          )}\n        </Card>\n      ))}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;AAYe,SAAS,SAAS,EAAE,KAAK,EAAE,WAAW,EAAiB;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9D,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uKAAA,CAAA,OAAI;gBAEH,WAAU;gBACV,SAAS,IAAM,YAAY;gBAC3B,cAAc,IAAM,eAAe,KAAK,EAAE;gBAC1C,cAAc,IAAM,eAAe;;kCAGnC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,KAAK,KAAK,YAAY,IAAI;gCAC1B,KAAK,KAAK,OAAO,IAAI;gCACrB,WAAU;;;;;;4BAIX,gBAAgB,KAAK,EAAE,kBACtB,8OAAC;gCACC,KAAK,KAAK,QAAQ;gCAClB,WAAU;gCACV,KAAK;gCACL,QAAQ;gCACR,IAAI;gCACJ,WAAW;;;;;;0CAKf,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,kMAAA,CAAA,OAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAI5B,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,2KAAA,CAAA,SAAM;4CACL,KAAK,KAAK,UAAU;4CACpB,KAAK,KAAK,QAAQ;4CAClB,QAAO;4CACP,MAAK;;;;;;sDAEP,8OAAC,uKAAA,CAAA,OAAI;4CAAC,OAAM;4CAAQ,MAAK;4CAAK,QAAQ;;gDAAC;gDACnC,KAAK,QAAQ;;;;;;;;;;;;;;;;;;0CAMrB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,8OAAC,oMAAA,CAAA,QAAK;oDACJ,MAAM;oDACN,MAAM,KAAK,OAAO,GAAG,QAAQ;oDAC7B,OAAO,KAAK,OAAO,GAAG,QAAQ;;;;;;;;;;;0DAGlC,8OAAC,uKAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,KAAK;;;;;;;;;;;;kDAG3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,8OAAC,wNAAA,CAAA,gBAAa;oDAAC,MAAM;;;;;;;;;;;0DAEvB,8OAAC,uKAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,QAAQ;;;;;;;;;;;;kDAG9C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,mLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,8OAAC,0MAAA,CAAA,SAAM;oDAAC,MAAM;;;;;;;;;;;0DAEhB,8OAAC,uKAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,MAAM;;;;;;;;;;;;kDAG5C,8OAAC,mLAAA,CAAA,aAAU;wCAAC,SAAQ;wCAAS,OAAM;wCAAQ,MAAK;kDAC9C,cAAA,8OAAC,0MAAA,CAAA,WAAQ;4CACP,MAAM;4CACN,MAAM,KAAK,OAAO,GAAG,UAAU;;;;;;;;;;;;;;;;;;;;;;;oBAOtC,KAAK,OAAO,kBACX,8OAAC,uKAAA,CAAA,OAAI;wBAAC,MAAK;wBAAK,WAAU;kCACvB,KAAK,OAAO;;;;;;;eArFZ,KAAK,EAAE;;;;;;;;;;AA4FtB","debugId":null}},
    {"offset": {"line": 1080, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport ReelViewer from './components/ReelViewer';\r\nimport ReelGrid from './components/ReelGrid';\r\nimport { useReelsData } from '@/hooks/useReelsData';\r\nimport { Reel } from '@/types/reel';\r\nimport { Button, SegmentedControl, Modal } from '@mantine/core';\r\nimport { Upload } from 'lucide-react';\r\n\r\nexport default function ReelsPage() {\r\n  const [viewMode, setViewMode] = useState<'grid' | 'full'>('grid');\r\n  const [selectedReel, setSelectedReel] = useState<Reel | null>(null);\r\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\r\n  const { reels, isLoading, error } = useReelsData();\r\n\r\n  // Handle reel click\r\n  const handleReelClick = (reel: Reel) => {\r\n    setSelectedReel(reel);\r\n    setViewMode('full');\r\n  };\r\n\r\n  // Handle navigation between reels\r\n  const handleNextReel = () => {\r\n    if (!selectedReel) return;\r\n    \r\n    const currentIndex = reels.findIndex(reel => reel.id === selectedReel.id);\r\n    if (currentIndex < reels.length - 1) {\r\n      setSelectedReel(reels[currentIndex + 1]);\r\n    }\r\n  };\r\n\r\n  const handlePrevReel = () => {\r\n    if (!selectedReel) return;\r\n    \r\n    const currentIndex = reels.findIndex(reel => reel.id === selectedReel.id);\r\n    if (currentIndex > 0) {\r\n      setSelectedReel(reels[currentIndex - 1]);\r\n    }\r\n  };\r\n\r\n  // Handle view mode change\r\n  const handleViewModeChange = (value: string) => {\r\n    setViewMode(value as 'grid' | 'full');\r\n    if (value === 'grid') {\r\n      setSelectedReel(null);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <SegmentedControl\r\n          value={viewMode}\r\n          onChange={handleViewModeChange}\r\n          data={[\r\n            { label: 'Grid View', value: 'grid' },\r\n            { label: 'Full View', value: 'full' },\r\n          ]}\r\n        />\r\n        <Button\r\n          leftSection={<Upload size={20} />}\r\n          onClick={() => setIsUploadModalOpen(true)}\r\n        >\r\n          Upload Reel\r\n        </Button>\r\n      </div>\r\n\r\n      {viewMode === 'grid' ? (\r\n        <ReelGrid reels={reels} onReelClick={handleReelClick} />\r\n      ) : selectedReel && (\r\n        <ReelViewer\r\n          reel={selectedReel}\r\n          onNext={handleNextReel}\r\n          onPrev={handlePrevReel}\r\n        />\r\n      )}\r\n\r\n      <Modal\r\n        opened={isUploadModalOpen}\r\n        onClose={() => setIsUploadModalOpen(false)}\r\n        title=\"Upload New Reel\"\r\n        size=\"lg\"\r\n      >\r\n        {/* Upload form content */}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AARA;;;;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IAC1D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,eAAY,AAAD;IAE/C,oBAAoB;IACpB,MAAM,kBAAkB,CAAC;QACvB,gBAAgB;QAChB,YAAY;IACd;IAEA,kCAAkC;IAClC,MAAM,iBAAiB;QACrB,IAAI,CAAC,cAAc;QAEnB,MAAM,eAAe,MAAM,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,aAAa,EAAE;QACxE,IAAI,eAAe,MAAM,MAAM,GAAG,GAAG;YACnC,gBAAgB,KAAK,CAAC,eAAe,EAAE;QACzC;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,cAAc;QAEnB,MAAM,eAAe,MAAM,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,aAAa,EAAE;QACxE,IAAI,eAAe,GAAG;YACpB,gBAAgB,KAAK,CAAC,eAAe,EAAE;QACzC;IACF;IAEA,0BAA0B;IAC1B,MAAM,uBAAuB,CAAC;QAC5B,YAAY;QACZ,IAAI,UAAU,QAAQ;YACpB,gBAAgB;QAClB;IACF;IAEA,IAAI,WAAW;QACb,qBAAO,8OAAC;sBAAI;;;;;;IACd;IAEA,IAAI,OAAO;QACT,qBAAO,8OAAC;;gBAAI;gBAAQ;;;;;;;IACtB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,+LAAA,CAAA,mBAAgB;wBACf,OAAO;wBACP,UAAU;wBACV,MAAM;4BACJ;gCAAE,OAAO;gCAAa,OAAO;4BAAO;4BACpC;gCAAE,OAAO;gCAAa,OAAO;4BAAO;yBACrC;;;;;;kCAEH,8OAAC,2KAAA,CAAA,SAAM;wBACL,2BAAa,8OAAC,sMAAA,CAAA,SAAM;4BAAC,MAAM;;;;;;wBAC3B,SAAS,IAAM,qBAAqB;kCACrC;;;;;;;;;;;;YAKF,aAAa,uBACZ,8OAAC,4JAAA,CAAA,UAAQ;gBAAC,OAAO;gBAAO,aAAa;;;;;uBACnC,8BACF,8OAAC,8JAAA,CAAA,UAAU;gBACT,MAAM;gBACN,QAAQ;gBACR,QAAQ;;;;;;0BAIZ,8OAAC,yKAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,OAAM;gBACN,MAAK;;;;;;;;;;;;AAMb","debugId":null}}]
}