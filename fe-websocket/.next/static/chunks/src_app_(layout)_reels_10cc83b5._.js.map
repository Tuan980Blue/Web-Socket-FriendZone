{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/components/ReelViewer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Reel } from '@/types/reel';\r\nimport { useReelsData } from '@/hooks/useReelsData';\r\nimport { Avatar, Button, Text, ActionIcon, Paper, Textarea, Modal } from '@mantine/core';\r\nimport { Heart, MessageCircle, Share2, Bookmark, Volume2, VolumeX, Send, X } from 'lucide-react';\r\n\r\ninterface ReelViewerProps {\r\n  reel: Reel;\r\n  onNext?: () => void;\r\n  onPrev?: () => void;\r\n}\r\n\r\nexport default function ReelViewer({ reel, onNext, onPrev }: ReelViewerProps) {\r\n  const [isMuted, setIsMuted] = useState(true);\r\n  const [isPlaying, setIsPlaying] = useState(true);\r\n  const [comment, setComment] = useState('');\r\n  const [isCommentModalOpen, setIsCommentModalOpen] = useState(false);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const { likeReel, saveReel, shareReel, addComment } = useReelsData();\r\n  const isLargeScreen = window.innerWidth >= 1024;\r\n\r\n  // Handle video playback\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      videoRef.current.muted = isMuted;\r\n    }\r\n  }, [isMuted]);\r\n\r\n  // Handle video play/pause\r\n  const togglePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n\r\n  // Handle video end\r\n  const handleVideoEnd = () => {\r\n    if (onNext) {\r\n      onNext();\r\n    }\r\n  };\r\n\r\n  // Handle like\r\n  const handleLike = () => {\r\n    likeReel(reel.id);\r\n  };\r\n\r\n  // Handle save\r\n  const handleSave = () => {\r\n    saveReel(reel.id);\r\n  };\r\n\r\n  // Handle share\r\n  const handleShare = () => {\r\n    shareReel(reel.id);\r\n  };\r\n\r\n  // Handle comment\r\n  const handleComment = () => {\r\n    if (comment.trim()) {\r\n      addComment(reel.id, comment);\r\n      setComment('');\r\n    }\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n    \r\n    if (diffInSeconds < 60) {\r\n      return `${diffInSeconds} seconds ago`;\r\n    } else if (diffInSeconds < 3600) {\r\n      return `${Math.floor(diffInSeconds / 60)} minutes ago`;\r\n    } else if (diffInSeconds < 86400) {\r\n      return `${Math.floor(diffInSeconds / 3600)} hours ago`;\r\n    } else {\r\n      return `${Math.floor(diffInSeconds / 86400)} days ago`;\r\n    }\r\n  };\r\n\r\n  // Format hashtags for display\r\n  const formatHashtags = (caption: string) => {\r\n    if (!caption) return '';\r\n    \r\n    return caption.split(' ').map((word, index) => {\r\n      if (word.startsWith('#')) {\r\n        return (\r\n          <span key={index} className=\"text-blue-500 hover:underline cursor-pointer\">\r\n            {word}{' '}\r\n          </span>\r\n        );\r\n      }\r\n      return word + ' ';\r\n    });\r\n  };\r\n\r\n  // Comments Section Component\r\n  const CommentsSection = () => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <Text color=\"white\" fw={500}>Comments ({reel.comments})</Text>\r\n        {!isLargeScreen && (\r\n          <ActionIcon \r\n            variant=\"subtle\" \r\n            color=\"white\" \r\n            size=\"lg\"\r\n            onClick={() => setIsCommentModalOpen(false)}\r\n          >\r\n            <X size={20} />\r\n          </ActionIcon>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Comment Input */}\r\n      <div className=\"flex items-center space-x-2 mb-4\">\r\n        <Textarea\r\n          placeholder=\"Add a comment...\"\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          className=\"flex-1\"\r\n          minRows={1}\r\n          maxRows={3}\r\n          styles={{\r\n            input: {\r\n              backgroundColor: 'rgba(255, 255, 255, 0.1)',\r\n              color: 'white',\r\n              border: 'none',\r\n            },\r\n          }}\r\n        />\r\n        <ActionIcon \r\n          variant=\"filled\" \r\n          color=\"blue\" \r\n          size=\"lg\" \r\n          onClick={handleComment}\r\n          disabled={!comment.trim()}\r\n        >\r\n          <Send size={16} />\r\n        </ActionIcon>\r\n      </div>\r\n      \r\n      {/* Comment List - Placeholder */}\r\n      <div className=\"space-y-4\">\r\n        <Text color=\"white\" size=\"sm\" className=\"text-center opacity-70\">\r\n          No comments yet. Be the first to comment!\r\n        </Text>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"relative h-[80vh] w-full max-w-2xl mx-auto bg-black rounded-lg overflow-hidden\">\r\n      {/* Video Player */}\r\n      <div className=\"relative h-full w-full\">\r\n        <video\r\n          ref={videoRef}\r\n          src={reel.videoUrl}\r\n          className=\"h-full w-full object-cover\"\r\n          loop\r\n          playsInline\r\n          autoPlay\r\n          muted={isMuted}\r\n          onClick={togglePlayPause}\r\n          onEnded={handleVideoEnd}\r\n        />\r\n        \r\n        {/* Video Controls Overlay */}\r\n        <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={() => setIsMuted(!isMuted)}\r\n              >\r\n                {isMuted ? <VolumeX size={20} /> : <Volume2 size={20} />}\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">\r\n                {isMuted ? 'Unmute' : 'Mute'}\r\n              </Text>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-4\">\r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleLike}\r\n              >\r\n                <Heart \r\n                  size={20} \r\n                  fill={reel.isLiked ? 'red' : 'none'} \r\n                  color={reel.isLiked ? 'red' : 'white'} \r\n                />\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">{reel.likes}</Text>\r\n              \r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleShare}\r\n              >\r\n                <Share2 size={20} />\r\n              </ActionIcon>\r\n              <Text color=\"white\" size=\"sm\">{reel.shares}</Text>\r\n              \r\n              <ActionIcon \r\n                variant=\"subtle\" \r\n                color=\"white\" \r\n                size=\"lg\" \r\n                onClick={handleSave}\r\n              >\r\n                <Bookmark \r\n                  size={20} \r\n                  fill={reel.isSaved ? 'white' : 'none'} \r\n                />\r\n              </ActionIcon>\r\n\r\n              {!isLargeScreen && (\r\n                <ActionIcon \r\n                  variant=\"subtle\" \r\n                  color=\"white\" \r\n                  size=\"lg\" \r\n                  onClick={() => setIsCommentModalOpen(true)}\r\n                >\r\n                  <MessageCircle size={20} />\r\n                </ActionIcon>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* User Info & Caption */}\r\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\r\n        <div className=\"flex items-start space-x-3\">\r\n          <Avatar \r\n            src={reel.userAvatar} \r\n            alt={reel.username} \r\n            radius=\"xl\" \r\n            size=\"md\" \r\n          />\r\n          <div className=\"flex-1\">\r\n            <Text color=\"white\" fw={500}>@{reel.username}</Text>\r\n            <Text color=\"white\" size=\"sm\" className=\"mt-1\">\r\n              {formatHashtags(reel.caption || '')}\r\n            </Text>\r\n            <Text color=\"white\" size=\"xs\" className=\"mt-1 opacity-70\">\r\n              {formatDate(reel.createdAt)}\r\n            </Text>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Comments Section - Only show on large screens */}\r\n      {isLargeScreen && (\r\n        <Paper className=\"absolute right-0 top-0 bottom-0 w-1/3 bg-white/10 backdrop-blur-md p-4 overflow-y-auto\">\r\n          <CommentsSection />\r\n        </Paper>\r\n      )}\r\n      \r\n      {/* Comments Modal - Only show on smaller screens */}\r\n      <Modal\r\n        opened={isCommentModalOpen}\r\n        onClose={() => setIsCommentModalOpen(false)}\r\n        size=\"100%\"\r\n        fullScreen\r\n        padding=\"md\"\r\n        withCloseButton={false}\r\n        styles={{\r\n          body: {\r\n            backgroundColor: 'black',\r\n            height: '100%',\r\n            padding: '1rem',\r\n          },\r\n        }}\r\n      >\r\n        <CommentsSection />\r\n      </Modal>\r\n      \r\n      {/* Navigation Buttons */}\r\n      {onPrev && (\r\n        <Button\r\n          variant=\"subtle\"\r\n          color=\"white\"\r\n          className=\"absolute left-2 top-1/2 transform -translate-y-1/2\"\r\n          onClick={onPrev}\r\n        >\r\n          Previous\r\n        </Button>\r\n      )}\r\n      \r\n      {onNext && (\r\n        <Button\r\n          variant=\"subtle\"\r\n          color=\"white\"\r\n          className=\"absolute right-2 top-1/2 transform -translate-y-1/2\"\r\n          onClick={onNext}\r\n        >\r\n          Next\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/components/ReelGrid.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Reel } from '@/types/reel';\nimport { Card, Text, Avatar, ActionIcon } from '@mantine/core';\nimport { Heart, MessageCircle, Share2, Bookmark, Play } from 'lucide-react';\nimport Image from 'next/image';\n\ninterface ReelGridProps {\n  reels: Reel[];\n  onReelClick: (reel: Reel) => void;\n}\n\nexport default function ReelGrid({ reels, onReelClick }: ReelGridProps) {\n  const [hoveredReel, setHoveredReel] = useState<string | null>(null);\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4\">\n      {reels.map((reel) => (\n        <Card\n          key={reel.id}\n          className=\"relative overflow-hidden cursor-pointer group\"\n          onClick={() => onReelClick(reel)}\n          onMouseEnter={() => setHoveredReel(reel.id)}\n          onMouseLeave={() => setHoveredReel(null)}\n        >\n          {/* Thumbnail */}\n          <div className=\"relative aspect-[9/16] w-full\">\n            <Image\n              src={reel.thumbnailUrl || '/placeholder-video.jpg'}\n              alt={reel.caption || 'Reel thumbnail'}\n              fill\n              className=\"object-cover\"\n            />\n            \n            {/* Video Preview (autoplay on hover) */}\n            {hoveredReel === reel.id && (\n              <video\n                src={reel.videoUrl}\n                className=\"absolute inset-0 w-full h-full object-cover\"\n                muted\n                autoPlay\n                loop\n                playsInline\n              />\n            )}\n            \n            {/* Play Button Overlay */}\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity\">\n              <Play size={40} className=\"text-white\" />\n            </div>\n            \n            {/* User Info Overlay */}\n            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/70 to-transparent\">\n              <div className=\"flex items-center gap-2\">\n                <Avatar \n                  src={reel.userAvatar} \n                  alt={reel.username} \n                  radius=\"xl\" \n                  size=\"sm\" \n                />\n                <Text color=\"white\" size=\"sm\" truncate>\n                  @{reel.username}\n                </Text>\n              </div>\n            </div>\n            \n            {/* Stats Overlay */}\n            <div className=\"absolute top-0 right-0 p-2 flex flex-col items-end space-y-2\">\n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <Heart \n                    size={16} \n                    fill={reel.isLiked ? 'red' : 'none'} \n                    color={reel.isLiked ? 'red' : 'white'} \n                  />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.likes}</Text>\n              </div>\n              \n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <MessageCircle size={16} />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.comments}</Text>\n              </div>\n              \n              <div className=\"flex items-center gap-1\">\n                <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                  <Share2 size={16} />\n                </ActionIcon>\n                <Text color=\"white\" size=\"xs\">{reel.shares}</Text>\n              </div>\n              \n              <ActionIcon variant=\"subtle\" color=\"white\" size=\"sm\">\n                <Bookmark \n                  size={16} \n                  fill={reel.isSaved ? 'white' : 'none'} \n                />\n              </ActionIcon>\n            </div>\n          </div>\n          \n          {/* Caption (truncated) */}\n          {reel.caption && (\n            <Text size=\"sm\" className=\"mt-2 line-clamp-2\">\n              {reel.caption}\n            </Text>\n          )}\n        </Card>\n      ))}\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AANA;;;;;AAae,SAAS,SAAS,EAAE,KAAK,EAAE,WAAW,EAAiB;;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9D,qBACE,6LAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,0KAAA,CAAA,OAAI;gBAEH,WAAU;gBACV,SAAS,IAAM,YAAY;gBAC3B,cAAc,IAAM,eAAe,KAAK,EAAE;gBAC1C,cAAc,IAAM,eAAe;;kCAGnC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAK,KAAK,YAAY,IAAI;gCAC1B,KAAK,KAAK,OAAO,IAAI;gCACrB,IAAI;gCACJ,WAAU;;;;;;4BAIX,gBAAgB,KAAK,EAAE,kBACtB,6LAAC;gCACC,KAAK,KAAK,QAAQ;gCAClB,WAAU;gCACV,KAAK;gCACL,QAAQ;gCACR,IAAI;gCACJ,WAAW;;;;;;0CAKf,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,qMAAA,CAAA,OAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAI5B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,8KAAA,CAAA,SAAM;4CACL,KAAK,KAAK,UAAU;4CACpB,KAAK,KAAK,QAAQ;4CAClB,QAAO;4CACP,MAAK;;;;;;sDAEP,6LAAC,0KAAA,CAAA,OAAI;4CAAC,OAAM;4CAAQ,MAAK;4CAAK,QAAQ;;gDAAC;gDACnC,KAAK,QAAQ;;;;;;;;;;;;;;;;;;0CAMrB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,6LAAC,uMAAA,CAAA,QAAK;oDACJ,MAAM;oDACN,MAAM,KAAK,OAAO,GAAG,QAAQ;oDAC7B,OAAO,KAAK,OAAO,GAAG,QAAQ;;;;;;;;;;;0DAGlC,6LAAC,0KAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,KAAK;;;;;;;;;;;;kDAG3C,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,6LAAC,2NAAA,CAAA,gBAAa;oDAAC,MAAM;;;;;;;;;;;0DAEvB,6LAAC,0KAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,QAAQ;;;;;;;;;;;;kDAG9C,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sLAAA,CAAA,aAAU;gDAAC,SAAQ;gDAAS,OAAM;gDAAQ,MAAK;0DAC9C,cAAA,6LAAC,6MAAA,CAAA,SAAM;oDAAC,MAAM;;;;;;;;;;;0DAEhB,6LAAC,0KAAA,CAAA,OAAI;gDAAC,OAAM;gDAAQ,MAAK;0DAAM,KAAK,MAAM;;;;;;;;;;;;kDAG5C,6LAAC,sLAAA,CAAA,aAAU;wCAAC,SAAQ;wCAAS,OAAM;wCAAQ,MAAK;kDAC9C,cAAA,6LAAC,6MAAA,CAAA,WAAQ;4CACP,MAAM;4CACN,MAAM,KAAK,OAAO,GAAG,UAAU;;;;;;;;;;;;;;;;;;;;;;;oBAOtC,KAAK,OAAO,kBACX,6LAAC,0KAAA,CAAA,OAAI;wBAAC,MAAK;wBAAK,WAAU;kCACvB,KAAK,OAAO;;;;;;;eAtFZ,KAAK,EAAE;;;;;;;;;;AA6FtB;GApGwB;KAAA","debugId":null}},
    {"offset": {"line": 850, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/WebSocket-Social/fe-websocket/src/app/%28layout%29/reels/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport ReelViewer from './components/ReelViewer';\r\nimport ReelGrid from './components/ReelGrid';\r\nimport { useReelsData } from '@/hooks/useReelsData';\r\nimport { Reel } from '@/types/reel';\r\nimport { Button, SegmentedControl, Modal, Skeleton, Grid } from '@mantine/core';\r\nimport { Upload } from 'lucide-react';\r\n\r\nexport default function ReelsPage() {\r\n  const [viewMode, setViewMode] = useState<'grid' | 'full'>('grid');\r\n  const [selectedReel, setSelectedReel] = useState<Reel | null>(null);\r\n  const [isUploadModalOpen, setIsUploadModalOpen] = useState(false);\r\n  const { reels, isLoading, error } = useReelsData();\r\n\r\n  // Handle reel click\r\n  const handleReelClick = (reel: Reel) => {\r\n    setSelectedReel(reel);\r\n    setViewMode('full');\r\n  };\r\n\r\n  // Handle navigation between reels\r\n  const handleNextReel = () => {\r\n    if (!selectedReel) return;\r\n    \r\n    const currentIndex = reels.findIndex(reel => reel.id === selectedReel.id);\r\n    if (currentIndex < reels.length - 1) {\r\n      setSelectedReel(reels[currentIndex + 1]);\r\n    }\r\n  };\r\n\r\n  const handlePrevReel = () => {\r\n    if (!selectedReel) return;\r\n    \r\n    const currentIndex = reels.findIndex(reel => reel.id === selectedReel.id);\r\n    if (currentIndex > 0) {\r\n      setSelectedReel(reels[currentIndex - 1]);\r\n    }\r\n  };\r\n\r\n  // Handle view mode change\r\n  const handleViewModeChange = (value: string) => {\r\n    setViewMode(value as 'grid' | 'full');\r\n    if (value === 'grid') {\r\n      setSelectedReel(null);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex flex-col h-full\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <Skeleton height={36} width={200} />\r\n          <Skeleton height={36} width={120} />\r\n        </div>\r\n        <Grid>\r\n          {[...Array(6)].map((_, index) => (\r\n            <Grid.Col key={index} span={{ base: 12, sm: 6, md: 4 }}>\r\n              <Skeleton height={400} radius=\"md\" />\r\n              <Skeleton height={20} width=\"70%\" mt=\"sm\" />\r\n              <Skeleton height={20} width=\"40%\" mt=\"xs\" />\r\n            </Grid.Col>\r\n          ))}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <SegmentedControl\r\n          value={viewMode}\r\n          onChange={handleViewModeChange}\r\n          data={[\r\n            { label: 'Grid View', value: 'grid' },\r\n            { label: 'Full View', value: 'full' },\r\n          ]}\r\n        />\r\n        <Button\r\n          leftSection={<Upload size={20} />}\r\n          onClick={() => setIsUploadModalOpen(true)}\r\n        >\r\n          Upload Reel\r\n        </Button>\r\n      </div>\r\n\r\n      {viewMode === 'grid' ? (\r\n        <ReelGrid reels={reels} onReelClick={handleReelClick} />\r\n      ) : selectedReel && (\r\n        <ReelViewer\r\n          reel={selectedReel}\r\n          onNext={handleNextReel}\r\n          onPrev={handlePrevReel}\r\n        />\r\n      )}\r\n\r\n      <Modal\r\n        opened={isUploadModalOpen}\r\n        onClose={() => setIsUploadModalOpen(false)}\r\n        title=\"Upload New Reel\"\r\n        size=\"lg\"\r\n      >\r\n        {/* Upload form content */}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}